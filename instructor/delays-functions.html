<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="fr" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Analyse et prévisions en temps réel des épidémies avec R: Utiliser les distributions de délais dans l'analyse</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XZ471458FQ');
    </script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/epiverse-trace/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicons/epiverse-trace/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicons/epiverse-trace/favicon-16x16.png"><link rel="manifest" href="../favicons/epiverse-trace/site.webmanifest"><link rel="mask-icon" href="../favicons/epiverse-trace/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav epiverse-trace"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Passer au contenu principal</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="epiverse-trace-logo" alt="epiverse-trace" src="../assets/images/epiverse-trace-logo.svg"><span class="badge text-bg-danger" style="background-color: #FF4955; border-radius: 5px">
          <abbr title="Cette leçon est en version pre-alpha, ce qui signifie qu'elle est au début de son développement, mais n'a pas encore été enseignée.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">Cette leçon est en version pre-alpha, ce qui signifie qu'elle est au début de son développement, mais n'a pas encore été enseignée.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Changer de thème (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Vue Instructeur <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../delays-functions.html';">Vue Apprenti</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav epiverse-trace" aria-label="Navigation Principale"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Afficher/cacher la barre de navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="epiverse-trace" src="../assets/images/epiverse-trace-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Analyse et prévisions en temps réel des épidémies avec R
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Rechercher dans la page 'All In One'" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Analyse et prévisions en temps réel des épidémies avec R
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Points clés</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Notes de l'instructeur</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extraire toutes les images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Voir plus <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><hr><li><a class="dropdown-item" href="reference.html">Glossary of Terms: Epiverse-TRACE</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Rechercher dans la page 'All In One'"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Rechercher dans la page 'All In One'">Rechercher dans la page 'All In One'</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Analyse et prévisions en temps réel des épidémies avec R
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 31%" class="percentage">
    31%
  </div>
  <div class="progress epiverse-trace">
    <div class="progress-bar epiverse-trace" role="progressbar" style="width: 31%" aria-valuenow="31" aria-label="Avancée de la leçon" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="fermer le menu" alt="fermer le menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Cacher " data-episodes="Épisodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Vue Instructeur
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../delays-functions.html">Vue Apprenti</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  ÉPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Résumé et Emploi du Temps</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="delays-access.html">1. Accéder aux distribution des délais épidémiologiques</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="quantify-transmissibility.html">2. Quantifier la transmission</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        3. Utiliser les distributions de délais dans l'analyse
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#introduction">Introduction</a></li>
<li><a href="#fonctions-de-distribution">Fonctions de distribution</a></li>
<li><a href="#discr%C3%A9tiser-une-distribution-continue">Discrétiser une distribution continue</a></li>
<li><a href="#plug-in-epiparameter-pour-epinow2">Plug-in <code>{epiparameter}</code> pour <code>{EpiNow2}</code></a></li>
<li><a href="#ajustement-pour-tenir-compte-des-d%C3%A9lais-de-d%C3%A9claration">Ajustement pour tenir compte des délais de déclaration</a></li>
<li><a href="#d%C3%A9fis">Défis</a></li>
<li><a href="#prochaines-%C3%A9tapes">Prochaines étapes</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="create-forecast.html">4. Établir des prévisions à court terme</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="severity-static.html">5. Estimation de la gravité d'une épidémie</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="superspreading-estimate.html">6. Tenir compte du phénomène hypercontagieux</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESSOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Points clés</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Notes de l'instructeur</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extraire toutes les images</a>
                      </li>
                      <hr><li><a class="dropdown-item" href="reference.html">Glossary of Terms: Epiverse-TRACE</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="../instructor/aio.html">Voir tout sur une seule page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Chapitre Précédent et Suivant"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/quantify-transmissibility.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Précédent</a>
        <a class="chapter-link float-end" href="../instructor/create-forecast.html">Suivant<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/quantify-transmissibility.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Précédent: Quantifier la
        </a>
        <a class="chapter-link float-end" href="../instructor/create-forecast.html" rel="next">
          Suivant: Établir des...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Utiliser les distributions de délais dans l'analyse</h1>
        <p>Dernière mise à jour le 2025-11-02 |

        <a href="https://github.com/epiverse-trace/tutorials-middle-fr/edit/main/episodes/delays-functions.Rmd" class="external-link">Modifier cette page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <p>Durée estimée : <i aria-hidden="true" data-feather="clock"></i> 30 minutes</p>

        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Afficher toutes les solutions " data-collapse="Cacher toutes les solutions "> Afficher toutes les solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Vue d'ensemble</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>Comment réutiliser les délais enregistrés dans le
<a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> avec mon pipeline d’analyse existant ?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectifs</h3>
<ul><li>Utilisez les fonctions de distribution pour les distributions
continues et discrètes enregistrées en tant que objets
<code>&lt;epiparameter&gt;</code>.</li>
<li>Convertissez une distribution continue en distribution discrète à
l’aide de la fonction <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a>.</li>
<li>Connecter les sorties de <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> avec les
entrées <a href="https://epiforecasts.io/EpiNow2/" class="external-link">EpiNow2</a>.</li>
</ul></div>
</div>
</div>
</div>
</div>
<div id="conditions-préalables" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div id="conditions-préalables" class="callout-inner">
<h3 class="callout-title">Conditions préalables</h3>
<div class="callout-content">
<ul><li>Compléter le tutoriel <a href="delays-functions.html">Accéder aux
distribution des délais épidémiologiques</a>
</li>
<li>Compléter le tutoriel <a href="quantify-transmissibility.html">Quantifier la
transmission</a>
</li>
</ul><p>Pour cet épisode, vous devez vous familiariser avec :</p>
<p><strong>Science des données</strong> Programmation de base avec
R.</p>
<p><strong>Statistiques</strong> : Distributions de probabilité.</p>
<p><strong>Théorie des épidémies</strong> : paramètres épidémiologiques,
périodes de temps, nombre reproductif effectif.</p>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a></h2>
<hr class="half-width"><p>Cet épisode intégrera le contenu des deux épisodes précédents.
Commençons par charger le package<a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> et
<a href="https://epiforecasts.io/EpiNow2/" class="external-link">EpiNow2</a> . Nous utiliserons le tube <code>%&gt;%</code>,
quelques verbes de <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> et <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a> et
donc appelons aussi à le package <a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a> :</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">epiparameter</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">EpiNow2</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span></code></pre>
</div>
<p>Pour résumer, nous avons appris que <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> nous
aide à <em>choisir</em> un ensemble spécifique de paramètres
épidémiologiques issus de la littérature, au lieu de les copier/coller
<em>à la main</em>:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid_serialint</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span></span>
<span>    disease <span class="op">=</span> <span class="st">"covid"</span>,</span>
<span>    epi_name <span class="op">=</span> <span class="st">"serial"</span>,</span>
<span>    single_epiparameter <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<p>Nous avons maintenant un paramètre épidémiologique que nous pouvons
utiliser dans notre analyse ! Par exemple, pour quantifier la
transmission, nous pouvons utiliser l’intervalle sériel comme
approximation du temps de génération. Dans le bloc de code ci-dessous,
nous avons remplacé un des paramètres <strong>statistiques
sommaires</strong> en <code>EpiNow2::LogNormal()</code></p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">generation_time</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">LogNormal</span><span class="op">(</span></span>
<span>    mean <span class="op">=</span> <span class="va">covid_serialint</span><span class="op">$</span><span class="va">summary_stats</span><span class="op">$</span><span class="va">mean</span>, <span class="co"># replaced!</span></span>
<span>    sd <span class="op">=</span> <span class="va">covid_serialint</span><span class="op">$</span><span class="va">summary_stats</span><span class="op">$</span><span class="va">sd</span>, <span class="co"># replaced!</span></span>
<span>    max <span class="op">=</span> <span class="fl">20</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<p>Dans cet épisode, nous utiliserons les <strong>fonctions de
distribution</strong> qui <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> fournit pour
obtenir une médiane, valeur maximale (<code>max</code>), percentiles ou
quantiles pour tout objet de classe <code>&lt;epiparameter&gt;</code>.
Ils vous seront utiles en aval dans votre pipeline d’analyse !</p>
<div id="le-double-point-virgule" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="le-double-point-virgule" class="callout-inner">
<h3 class="callout-title">Le double point-virgule</h3>
<div class="callout-content">
<p>Le double point-virgule <code>::</code> dans R vous permet d’appeler
une fonction spécifique d’un package sans charger l’ensemble du package
dans l’environnement actuel.</p>
<p>Par example, <code>dplyr::filter(data, condition)</code> utilise la
fonction<code>filter()</code> du paquet `{dplyr}’.</p>
<p>Cela nous permet de nous souvenir des fonctions du paquet et d’éviter
les conflits d’espace de noms en spécifiant explicitement la fonction du
paquet à utiliser lorsque plusieurs paquets ont des fonctions portant le
même nom.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="fonctions-de-distribution">Fonctions de distribution<a class="anchor" aria-label="anchor" href="#fonctions-de-distribution"></a></h2>
<hr class="half-width"><p>w En R, toutes les distributions statistiques disposent de fonctions
qui permettant d’accéder aux éléments suivants :</p>
<ul><li>
<code>density()</code>: fonction de densité de probabilité
(<em>FDP</em>),</li>
<li>
<code>cdf()</code> fonction de distribution cumulative
(<strong>FDC</strong>),</li>
<li>
<code>quantile()</code>: <strong>Quantile</strong> et</li>
<li>
<code>generate()</code>: <strong>Aléatoire</strong> valeurs
aléatoires de la distribution donnée.</li>
</ul><div id="fonctions-pour-la-loi-normale" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="fonctions-pour-la-loi-normale" class="callout-inner">
<h3 class="callout-title">Fonctions pour la loi normale</h3>
<div class="callout-content">
<p>Si vous en avez besoin, lisez en détail la rubrique <a href="https://web.archive.org/web/20240210121034/https://sakai.unc.edu/access/content/group/3d1eb92e-7848-4f55-90c3-7c72a54e7e43/public/docs/lectures/lecture13.htm#probfunc" class="external-link">Fonctions
de probabilité R pour la loinormale</a> Pour en savoir plus sur les
fonctions de probabilité de la loi normale, lisez les définitions de
chacune d’entre elles et identifiez la partie de la loi dans laquelle
elles se situent !</p>
<figure><img src="../fig/fig5a-normaldistribution.png" alt="Les quatre fonctions de probabilité de la loi normale (Jack Weiss, 2012)" class="figure mx-auto d-block"><div class="figcaption">Les quatre fonctions de probabilité de la loi
normale (<a href="https://web.archive.org/web/20240210121034/https://sakai.unc.edu/access/content/group/3d1eb92e-7848-4f55-90c3-7c72a54e7e43/public/docs/lectures/lecture13.htm#probfunc" class="external-link">Jack
Weiss, 2012</a>)</div>
</figure></div>
</div>
</div>
<p>Si vous regardez <code>?stats::Distributions</code>, chaque type de
distribution possède un ensemble unique de fonctions. Cependant,
<a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> vous donne les mêmes quatre fonctions pour
accéder à chacune des valeurs ci-dessus pour n’importe quelle objet
<code>&lt;epiparameter&gt;</code> de votre choix !</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plot this to have a visual reference</span></span>
<span></span>
<span><span class="co"># continuous distribution</span></span>
<span><span class="fu">plot</span><span class="op">(</span><span class="va">covid_serialint</span>, xlim <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="../fig/delays-functions-rendered-unnamed-chunk-3-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the density value at quantile value of 10 (days)</span></span>
<span><span class="fu">density</span><span class="op">(</span><span class="va">covid_serialint</span>, at <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0.01911607</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the cumulative probability at quantile value of 10 (days)</span></span>
<span><span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">cdf</span><span class="op">(</span><span class="va">covid_serialint</span>, q <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0.9466605</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the quantile value (day) at a cumulative probability of 60%</span></span>
<span><span class="fu">quantile</span><span class="op">(</span><span class="va">covid_serialint</span>, p <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 4.618906</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># generate 10 random values (days) given</span></span>
<span><span class="co"># the distribution family and its parameters</span></span>
<span><span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">generate</span><span class="op">(</span><span class="va">covid_serialint</span>, times <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> [1] 3.869254 1.453761 2.170935 6.357165 2.645671 3.475367 1.079901 3.170287
 [9] 5.404759 5.928314</code></pre>
</div>
<div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Remarque de l'instructeur </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" aria-labelledby="headingInstructor1" data-bs-parent="#accordionInstructor1">
<div class="accordion-body">
<p>L’accès à la documentation de référence (fichiers d’aide) de ces
fonctions est accessible avec la notation à trois doubles points :
<code>epiparameter:::</code></p>
<ul><li><code>?epiparameter:::density.epiparameter()</code></li>
<li><code>?epiparameter:::cdf.epiparameter()</code></li>
<li><code>?epiparameter:::quantile.epiparameter()</code></li>
<li><code>?epiparameter:::generate.epiparameter()</code></li>
</ul></div>
</div>
</div>
</div>
<div id="fenêtre-pour-la-recherche-de-contact-et-lintervalle-sériel" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="fenêtre-pour-la-recherche-de-contact-et-lintervalle-sériel" class="callout-inner">
<h3 class="callout-title">Fenêtre pour la recherche de contact et l’intervalle sériel</h3>
<div class="callout-content">
<p>L’<strong>intervalle sériel</strong> est important pour
l’optimisation de la recherche des contacts, car il fournit une fenêtre
temporelle pour l’endiguement de la propagation d’une maladie (<a href="https://academic.oup.com/aje/article/158/11/1039/162725" class="external-link">Fine,
2003</a>). En fonction de l’intervalle sériel, nous pouvons évaluer la
nécessité d’augmenter le nombre de jours pris en compte pour la
recherche des contacts afin d’inclure un plus grand nombre de contacts
rétrospectifs (<a href="https://assets.publishing.service.gov.uk/media/61e9ab3f8fa8f50597fb3078/S0523_Oxford_-_Backwards_contact_tracing.pdf" class="external-link">Davis
et al., 2020</a>).</p>
<p>Avec l’intervalle sériel COVID-19 (<code>covid_serialint</code>),
calculez :</p>
<ul><li>Quelle proportion supplémentaire des cas rétrospectifs pourrait être
capturée si la méthode de recherche des contacts prenait en compte les
contacts jusqu’à 6 jours avant l’apparition de la maladie par rapport à
2 jours avant l’apparition de la maladie ?</li>
</ul></div>
</div>
</div>
<div id="accordionHint1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint1" aria-expanded="false" aria-controls="collapseHint1">
  <h4 class="accordion-header" id="headingHint1"> Donner un indice </h4>
</button>
<div id="collapseHint1" class="accordion-collapse collapse" aria-labelledby="headingHint1" data-bs-parent="#accordionHint1">
<div class="accordion-body">
<p>Dans la figure 5 du <a href="https://web.archive.org/web/20240210121034/https://sakai.unc.edu/access/content/group/3d1eb92e-7848-4f55-90c3-7c72a54e7e43/public/docs/lectures/lecture13.htm#probfunc" class="external-link">Fonctions
de probabilité R pour la loi normale</a> la partie ombrée représente une
probabilité cumulée de <code>0.997</code> pour la valeur du quantile à
<code>x = 2</code>.</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Montrer la solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">plot</span><span class="op">(</span><span class="va">covid_serialint</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">cdf</span><span class="op">(</span><span class="va">covid_serialint</span>, q <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0.1111729</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">cdf</span><span class="op">(</span><span class="va">covid_serialint</span>, q <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0.7623645</code></pre>
</div>
<p>Étant donné l’intervalle sériel COVID-19 :</p>
<ul><li><p>Une méthode de recherche des contacts prenant en compte les
contacts jusqu’à 2 jours avant l’apparition de la maladie permettra
d’identifier environ 11,1 % des cas rétrospectifs.</p></li>
<li><p>Si cette période est étendue à 6 jours avant l’apparition de la
maladie, 76,2 % des cas rétrospectifs pourraient être pris en
compte.</p></li>
</ul></div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Que se passerait-il si </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Si nous échangeons la question entre les jours et la probabilité
cumulée à :</p>
<ul><li>Considèrent les cas secondaires, combien de jours après l’apparition
des symptômes des cas primaires peut-on s’attendre à ce que 55 % des
symptômes apparaissent ?</li>
</ul><div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">quantile</span><span class="op">(</span><span class="va">covid_serialint</span>, p <span class="op">=</span> <span class="fl">0.55</span><span class="op">)</span></span></code></pre>
</div>
<p>L’interprétation pourrait être la suivante :</p>
<ul><li>Les 55 % de cas secondaires seront devenus symptômatique 4,2 jours
après l’apparition des symptômes des cas primaires.</li>
</ul></div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="discrétiser-une-distribution-continue">Discrétiser une distribution continue<a class="anchor" aria-label="anchor" href="#discr%C3%A9tiser-une-distribution-continue"></a></h2>
<hr class="half-width"><p>Nous nous rapprochons de la fin ! <code>EpiNow2::LogNormal()</code> a
encore besoin d’une valeur maximale (<code>max</code>).</p>
<p>Une façon d’y parvenir est d’obtenir la valeur du quantile pour le
99e percentile de la distribution ou <code>0.99</code> probabilité
cumulative de la distribution. Pour le faire, nous devons accéder à
l’ensemble des fonctions de distribution de notre objet
<code>&lt;epiparameter&gt;</code>.</p>
<p>Nous pouvons utiliser l’ensemble des fonctions de distribution d’un
distribution continue (comme ci-dessus). Cependant, ces valeurs seront
des nombres continus. Nous pouvons <strong>discrétiser</strong> la
distribution continue enregistréedans notre
objet<code>&lt;epiparameter&gt;</code> pour obtenir des valeurs
discrètes à partir d’une distribution continue.</p>
<p>Lorsque nous <code>epiparameter::discretise()</code> la distribution
continue, nous obtenons une distribution <strong>discrète</strong> :</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid_serialint_discrete</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">discretise</span><span class="op">(</span><span class="va">covid_serialint</span><span class="op">)</span></span>
<span></span>
<span><span class="va">covid_serialint_discrete</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Disease: COVID-19
Pathogen: SARS-CoV-2
Epi Parameter: serial interval
Study: Nishiura H, Linton N, Akhmetzhanov A (2020). "Serial interval of novel
coronavirus (COVID-19) infections." _International Journal of
Infectious Diseases_. doi:10.1016/j.ijid.2020.02.060
&lt;https://doi.org/10.1016/j.ijid.2020.02.060&gt;.
Distribution: discrete lnorm (days)
Parameters:
  meanlog: 1.386
  sdlog: 0.568</code></pre>
</div>
<p>Nous identifions ce changement dans la <code>Distribution:</code>
ligne de sortie de l’objet <code>&lt;epiparameter&gt;</code>. Vérifiez à
nouveau cette ligne :</p>
<pre><code>Distribution: discrete lnorm</code></pre>
<p>Alors que pour une distribution <strong>continue</strong> nous
traçons la courbe de la <em>Fonction de densité de probabilité
(FDP)</em> pour une distribution discrète, nous traçons la <em>Fonction
de masse de probabilité (FMP)</em>:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># discrete distribution</span></span>
<span><span class="fu">plot</span><span class="op">(</span><span class="va">covid_serialint_discrete</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="../fig/delays-functions-rendered-unnamed-chunk-9-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Pour obtenir enfin une <code>max</code>, accédons à la valeur du
quantile du 99e percentile ou <code>0.99</code> de la distribution à
l’aide de la fonction <code>prob_dist$q</code> de la même manière que
nous accédons à les valeurs <code>summary_stats</code>.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid_serialint_discrete_max</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">quantile</span><span class="op">(</span><span class="va">covid_serialint_discrete</span>, p <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span></span></code></pre>
</div>
<div id="durée-de-la-quarantaine-et-de-la-période-dincubation" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="durée-de-la-quarantaine-et-de-la-période-dincubation" class="callout-inner">
<h3 class="callout-title">Durée de la quarantaine et de la période d’incubation</h3>
<div class="callout-content">
<p>La <strong>période d’incubation</strong> est un délai utile pour
évaluer la durée de la surveillance active ou de la quarantaine (<a href="https://www.acpjournals.org/doi/10.7326/M20-0504" class="external-link">Lauer et al.,
2020</a>). De même, les délais entre l’apparition des symptômes et la
guérison (ou le décès) détermineront la durée nécessaire des soins de
santé et de l’isolement des cas (<a href="https://royalsocietypublishing.org/doi/10.1098/rstb.2016.0371" class="external-link">Cori
et al.</a>).</p>
<p>Calculez :</p>
<ul><li>Dans quel délai précis 99 % des personnes présentant les symptômes
de COVID-19 les manifestent-elles après l’infection ?</li>
</ul></div>
</div>
</div>
<div id="accordionHint2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint2" aria-expanded="false" aria-controls="collapseHint2">
  <h4 class="accordion-header" id="headingHint2"> Donner un indice </h4>
</button>
<div id="collapseHint2" class="accordion-collapse collapse" aria-labelledby="headingHint2" data-bs-parent="#accordionHint2">
<div class="accordion-body">
<p>Quelle est la distribution des délais qui mesure le temps écoulé
entre l’infection et l’apparition des symptômes ?</p>
<p>Les fonctions de probabilité pour les distributions
<code>&lt;epiparameter&gt;</code> <strong>discrètes</strong> sont les
mêmes que celles que nous avons utilisées pour les distributions
<em>continues</em> !</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plot to have a visual reference</span></span>
<span><span class="fu">plot</span><span class="op">(</span><span class="va">covid_serialint_discrete</span>, xlim <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># density value at quantile value 10 (day)</span></span>
<span><span class="fu">density</span><span class="op">(</span><span class="va">covid_serialint_discrete</span>, at <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># cumulative probability at quantile value 10 (day)</span></span>
<span><span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">cdf</span><span class="op">(</span><span class="va">covid_serialint_discrete</span>, q <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># In what quantile value (days) do we have the 60% cumulative probability?</span></span>
<span><span class="fu">quantile</span><span class="op">(</span><span class="va">covid_serialint_discrete</span>, p <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># generate random values</span></span>
<span><span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">generate</span><span class="op">(</span><span class="va">covid_serialint_discrete</span>, times <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Montrer la solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid_incubation</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span></span>
<span>    disease <span class="op">=</span> <span class="st">"covid"</span>,</span>
<span>    epi_name <span class="op">=</span> <span class="st">"incubation"</span>,</span>
<span>    single_epiparameter <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Using Linton N, Kobayashi T, Yang Y, Hayashi K, Akhmetzhanov A, Jung S, Yuan
B, Kinoshita R, Nishiura H (2020). "Incubation Period and Other
Epidemiological Characteristics of 2019 Novel Coronavirus Infections
with Right Truncation: A Statistical Analysis of Publicly Available
Case Data." _Journal of Clinical Medicine_. doi:10.3390/jcm9020538
&lt;https://doi.org/10.3390/jcm9020538&gt;..
To retrieve the citation use the 'get_citation' function</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid_incubation_discrete</span> <span class="op">&lt;-</span> <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">discretise</span><span class="op">(</span><span class="va">covid_incubation</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">quantile</span><span class="op">(</span><span class="va">covid_incubation_discrete</span>, p <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 19</code></pre>
</div>
<p>99% des personnes qui développent les symptômes du COVID-19 le feront
dans les 16 jours suivant l’infection.</p>
<p>Réfléchissez-y, <em>ce résultat est-il attendu en termes
épidémiologiques ?</em></p>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Comment créer un diagramme de distribution ? </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>A partir d’une valeur maximale avec <code>quantile()</code> nous
pouvons créer une séquence de valeurs de quantiles sous la forme d’un
tableau numérique et calculer <code>density()</code> pour chacune
d’entre elles :</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create a discrete distribution visualisation</span></span>
<span><span class="co"># from a maximum value from the distribution</span></span>
<span><span class="fu">quantile</span><span class="op">(</span><span class="va">covid_serialint_discrete</span>, p <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># generate quantile values</span></span>
<span>  <span class="co"># as a sequence for each natural number</span></span>
<span>  <span class="fu">seq</span><span class="op">(</span><span class="fl">1L</span>, to <span class="op">=</span> <span class="va">.</span>, by <span class="op">=</span> <span class="fl">1L</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># coerce numeric vector to data frame</span></span>
<span>  <span class="fu">as_tibble_col</span><span class="op">(</span>column_name <span class="op">=</span> <span class="st">"quantile_values"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    <span class="co"># calculate density values</span></span>
<span>    <span class="co"># for each quantile in the density function</span></span>
<span>    density_values <span class="op">=</span></span>
<span>      <span class="fu">density</span><span class="op">(</span></span>
<span>        x <span class="op">=</span> <span class="va">covid_serialint_discrete</span>,</span>
<span>        at <span class="op">=</span> <span class="va">quantile_values</span></span>
<span>      <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># create plot</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span></span>
<span>    <span class="fu">aes</span><span class="op">(</span></span>
<span>      x <span class="op">=</span> <span class="va">quantile_values</span>,</span>
<span>      y <span class="op">=</span> <span class="va">density_values</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_col</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="../fig/delays-functions-rendered-unnamed-chunk-13-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p><strong>Rappelez-vous :</strong> Dans les infections à transmission
pré-symptomatique, les intervalles sériels peuvent avoir des valeurs
négatives (<a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/fulltext" class="external-link">Nishiura
et al., 2020</a>). Lorsque nous utilisons la méthode <em>intervalle
sériel</em> pour approximer le <em>temps de génération</em> nous devons
effectuer cette distribution avec des valeurs positives uniquement !</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="plug-in-epiparameter-pour-epinow2">Plug-in <code>{epiparameter}</code> pour <code>{EpiNow2}</code>
<a class="anchor" aria-label="anchor" href="#plug-in-epiparameter-pour-epinow2"></a></h2>
<hr class="half-width"><p>Maintenant, nous pouvons brancher le tout dans le fonction
<code>EpiNow2::LogNormal()</code> !</p>
<ul><li>les <strong>statistiques sommaires</strong> <code>mean</code> et
<code>sd</code> de la distribution,</li>
<li>une valeur maximale <code>max</code>,</li>
<li>le nom de la <code>distribution</code>.</li>
</ul><p>Lors qu’on utilise <code>EpiNow2::LogNormal()</code> pour définir une
<strong>loi log-normale</strong> comme celle de
l’objet<code>covid_serialint</code>, nous pouvons spécifier la moyenne
et l’écart-type comme paramètres. Pour obtenir les paramètres “naturels”
d’une loi log-normale, nous pouvons également convertir ces statistiques
sommaires en paramètres de distribution nommés <code>meanlog</code> et
<code>sdlog</code>. Avec <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> nous pouvons
obtenir directement les <em>paramètres de distribution</em> en utilisant
<code>epiparameter::get_parameters()</code>:</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid_serialint_parameters</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">get_parameters</span><span class="op">(</span><span class="va">covid_serialint</span><span class="op">)</span></span></code></pre>
</div>
<p>On a alors :</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">serial_interval_covid</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">LogNormal</span><span class="op">(</span></span>
<span>    meanlog <span class="op">=</span> <span class="va">covid_serialint_parameters</span><span class="op">[</span><span class="st">"meanlog"</span><span class="op">]</span>,</span>
<span>    sdlog <span class="op">=</span> <span class="va">covid_serialint_parameters</span><span class="op">[</span><span class="st">"sdlog"</span><span class="op">]</span>,</span>
<span>    max <span class="op">=</span> <span class="va">covid_serialint_discrete_max</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">serial_interval_covid</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>- lognormal distribution (max: 14):
  meanlog:
    1.4
  sdlog:
    0.57</code></pre>
</div>
<p>Dans l’hypothèse d’un scénario COVID-19, utilisons les 60 premiers
jours de l’ensemble de données . <code>example_confirmed</code> du
package <a href="https://epiforecasts.io/EpiNow2/" class="external-link">EpiNow2</a> comme <code>reported_cases</code> et
l’objet récemment créé <code>serial_interval_covid</code> en tant que
données d’entrée pour estimer le nombre de reproduction variable dans le
temps à l’aide du fonction <code>EpiNow2::epinow()</code>.</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set 4 cores to be used in parallel computations</span></span>
<span><span class="fu">withr</span><span class="fu">::</span><span class="fu">local_options</span><span class="op">(</span><span class="fu">list</span><span class="op">(</span>mc.cores <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">epinow_estimates_cg</span> <span class="op">&lt;-</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">epinow</span><span class="op">(</span></span>
<span>  <span class="co"># cases</span></span>
<span>  data <span class="op">=</span> <span class="va">example_confirmed</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">60</span><span class="op">]</span>,</span>
<span>  <span class="co"># delays</span></span>
<span>  generation_time <span class="op">=</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">generation_time_opts</span><span class="op">(</span><span class="va">serial_interval_covid</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu">plot</span><span class="op">(</span><span class="va">epinow_estimates_cg</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="../fig/delays-functions-rendered-unnamed-chunk-16-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>La sortie <code>plot()</code> comprend les cas estimés par date
d’infection, qui sont reconstitués à partir des cas déclarés et des
retards.</p>
<div id="avertissement" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="avertissement" class="callout-inner">
<h3 class="callout-title">Avertissement</h3>
<div class="callout-content">
<p>L’utilisation de l’intervalle sériel au lieu du temps de génération
est une alternative qui peut propager un biais dans vos estimations,
d’autant plus pour les maladies dont la transmission pré-symptomatique
est signalée. (<a href="https://academic.oup.com/jid/article/224/10/1664/6356465" class="external-link">Chung
Lau et al, 2021</a>)</p>
</div>
</div>
</div>
<div id="accordionInstructor2" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor2" aria-expanded="false" aria-controls="collapseInstructor2">
  <h3 class="accordion-header" id="headingInstructor2">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Remarque de l'instructeur </h3>
</button>
<div id="collapseInstructor2" class="accordion-collapse collapse" aria-labelledby="headingInstructor2" data-bs-parent="#accordionInstructor2">
<div class="accordion-body">
<p>We can stop the livecoding at this stage and move on with the
practical.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="ajustement-pour-tenir-compte-des-délais-de-déclaration">Ajustement pour tenir compte des délais de déclaration<a class="anchor" aria-label="anchor" href="#ajustement-pour-tenir-compte-des-d%C3%A9lais-de-d%C3%A9claration"></a></h2>
<hr class="half-width"><p>L’estimation de <span class="math inline">\(R_t\)</span> nécessite
des données sur le nombre quotidien de nouvelles infections. En raison
des délais dans le développement de charges virales détectables,
l’apparition des symptômes, la recherche de soins et la déclaration, ces
chiffres ne sont pas facilement disponibles. Toutes les observations
reflètent des événements de transmission survenus dans le passé. En
d’autres termes, si <span class="math inline">\(d\)</span> est le délai
entre l’infection et l’observation, alors les observations au temps
<span class="math inline">\(t\)</span> informent <span class="math inline">\(R_{t−d}\)</span> et non <span class="math inline">\(R_t\)</span>. <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1008409#sec007" class="external-link">(Gostic
et al., 2020)</a></p>
<figure><img src="../fig/disease-reporting.jpg" alt="Calendrier pour la déclaration de la chaîne de la maladie, Pays-Bas. Lab, laboratoire ; PHA, autorité de santé publique. A partir de Marinović et al, 2015" class="figure mx-auto d-block"><div class="figcaption">
<strong>Calendrier pour la déclaration de la
chaîne de la maladie, Pays-Bas.</strong> Lab, laboratoire ; PHA,
autorité de santé publique. A partir de <a href="https://wwwnc.cdc.gov/eid/article/21/2/13-0504_article" class="external-link">Marinović
et al, 2015</a>
</div>
</figure><p>La <strong>distribution des délais</strong> pourrait être déduite
conjointement avec les temps d’infection sous-jacents, ou estimée comme
la somme des distributions de la . <a href="reference.html#incubation">période d’incubation</a> et du délais
entre l’apparition des symptômes et l’observation à partir des données
de la liste d’attente (<a href="reference.html#reportingdelay">délai de
déclaration</a>). Pour <a href="https://epiforecasts.io/EpiNow2/" class="external-link">EpiNow2</a>, nous pouvons spécifier
ces deux distributions de délais complémentaires dans l’argument
<code>delays</code>.</p>
<figure><img src="../fig/rt-adjusting-delays.png" alt="R_{t} est une mesure de la transmission au moment t. Les observations après le temps t doivent être ajustées. ICU, unité de soins intensifs. A partir de Gostic et al, 2020" class="figure mx-auto d-block"><div class="figcaption">
<strong><span class="math inline">\(R_{t}\)</span> est une mesure de la transmission
au moment <span class="math inline">\(t\)</span>.</strong> Les
observations après le temps <span class="math inline">\(t\)</span>
doivent être ajustées. ICU, unité de soins intensifs. A partir de <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1008409#sec007" class="external-link">Gostic
et al, 2020</a>
</div>
</figure><div id="utiliser-une-période-dincubation-pour-covid-19-afin-destimer-rt" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="utiliser-une-période-dincubation-pour-covid-19-afin-destimer-rt" class="callout-inner">
<h3 class="callout-title">Utiliser une période d’incubation pour COVID-19 afin d’estimer Rt</h3>
<div class="callout-content">
<p>Estimez le nombre de reproduction variable dans le temps pour les 60
premiers jours de l’ensemble de données <code>example_confirmed</code>
de <a href="https://epiforecasts.io/EpiNow2/" class="external-link">EpiNow2</a>. Accédez à une période d’incubation pour
COVID-19 à partir de <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> pour l’utiliser comme
délai de déclaration.</p>
</div>
</div>
</div>
<div id="accordionHint3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint3" aria-expanded="false" aria-controls="collapseHint3">
  <h4 class="accordion-header" id="headingHint3"> Donner un indice </h4>
</button>
<div id="collapseHint3" class="accordion-collapse collapse" aria-labelledby="headingHint3" data-bs-parent="#accordionHint3">
<div class="accordion-body">
<p>Utilisez le dernier calcul d’ <code>epinow()</code> à l’aide de
l’argument <code>delays</code> et la fonction d’aide
<code>delay_opts()</code> e.</p>
<p>L’argument <code>delays</code> et la fonction
d’aide<code>delay_opts()</code> sont analogues à l’argument
<code>generation_time</code> et à la fonction d’aide
<code>generation_time_opts()</code>.</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">epinow_estimates</span> <span class="op">&lt;-</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">epinow</span><span class="op">(</span></span>
<span>  <span class="co"># cases</span></span>
<span>  reported_cases <span class="op">=</span> <span class="va">example_confirmed</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">60</span><span class="op">]</span>,</span>
<span>  <span class="co"># delays</span></span>
<span>  generation_time <span class="op">=</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">generation_time_opts</span><span class="op">(</span><span class="va">covid_serial_interval</span><span class="op">)</span>,</span>
<span>  delays <span class="op">=</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">delay_opts</span><span class="op">(</span><span class="va">covid_incubation_time</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Montrer la solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># generation time ---------------------------------------------------------</span></span>
<span></span>
<span><span class="co"># get covid serial interval</span></span>
<span><span class="va">covid_serialint</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span></span>
<span>    disease <span class="op">=</span> <span class="st">"covid"</span>,</span>
<span>    epi_name <span class="op">=</span> <span class="st">"serial"</span>,</span>
<span>    single_epiparameter <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># adapt epiparameter to epinow2</span></span>
<span><span class="va">covid_serialint_discrete_max</span> <span class="op">&lt;-</span> <span class="va">covid_serialint</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">discretise</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">quantile</span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span></span>
<span></span>
<span><span class="va">covid_serialint_parameters</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">get_parameters</span><span class="op">(</span><span class="va">covid_serialint</span><span class="op">)</span></span>
<span></span>
<span><span class="va">covid_serial_interval</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">LogNormal</span><span class="op">(</span></span>
<span>    meanlog <span class="op">=</span> <span class="va">covid_serialint_parameters</span><span class="op">[</span><span class="st">"meanlog"</span><span class="op">]</span>,</span>
<span>    sdlog <span class="op">=</span> <span class="va">covid_serialint_parameters</span><span class="op">[</span><span class="st">"sdlog"</span><span class="op">]</span>,</span>
<span>    max <span class="op">=</span> <span class="va">covid_serialint_discrete_max</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># incubation time ---------------------------------------------------------</span></span>
<span></span>
<span><span class="co"># get covid incubation period</span></span>
<span><span class="va">covid_incubation</span> <span class="op">&lt;-</span> <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"covid"</span>,</span>
<span>  epi_name <span class="op">=</span> <span class="st">"incubation"</span>,</span>
<span>  single_epiparameter <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># adapt epiparameter to epinow2</span></span>
<span><span class="va">covid_incubation_discrete_max</span> <span class="op">&lt;-</span> <span class="va">covid_incubation</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">discretise</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">quantile</span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span></span>
<span></span>
<span><span class="va">covid_incubation_parameters</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">get_parameters</span><span class="op">(</span><span class="va">covid_incubation</span><span class="op">)</span></span>
<span></span>
<span><span class="va">covid_incubation_time</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">LogNormal</span><span class="op">(</span></span>
<span>    meanlog <span class="op">=</span> <span class="va">covid_incubation_parameters</span><span class="op">[</span><span class="st">"meanlog"</span><span class="op">]</span>,</span>
<span>    sdlog <span class="op">=</span> <span class="va">covid_incubation_parameters</span><span class="op">[</span><span class="st">"sdlog"</span><span class="op">]</span>,</span>
<span>    max <span class="op">=</span> <span class="va">covid_incubation_discrete_max</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># epinow ------------------------------------------------------------------</span></span>
<span></span>
<span><span class="co"># run epinow</span></span>
<span><span class="va">epinow_estimates_cgi</span> <span class="op">&lt;-</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">epinow</span><span class="op">(</span></span>
<span>  <span class="co"># cases</span></span>
<span>  data <span class="op">=</span> <span class="va">example_confirmed</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">60</span><span class="op">]</span>,</span>
<span>  <span class="co"># delays</span></span>
<span>  generation_time <span class="op">=</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">generation_time_opts</span><span class="op">(</span><span class="va">covid_serial_interval</span><span class="op">)</span>,</span>
<span>  delays <span class="op">=</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">delay_opts</span><span class="op">(</span><span class="va">covid_incubation_time</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu">plot</span><span class="op">(</span><span class="va">epinow_estimates_cgi</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="../fig/delays-functions-rendered-unnamed-chunk-17-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Essayez de compléter le <code>delays</code> avec un délai de
déclaration comme le <code>reporting_delay_fixed</code> de l’épisode
précédent.</p>
</div>
</div>
</div>
</div>
<div id="dans-quelle-mesure-a-t-il-changé" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="dans-quelle-mesure-a-t-il-changé" class="callout-inner">
<h3 class="callout-title">Dans quelle mesure a-t-il changé ?</h3>
<div class="callout-content">
<p>Après avoir ajouté la période d’incubation, discutez-en :</p>
<ul><li>La tendance de l’ajustement du modèle dans la section “Estimation”
change-t-elle ?</li>
<li>L’incertitude a-t-elle changé ?</li>
<li>Comment expliqueriez-vous ou interpréteriez-vous ces changements
?</li>
</ul><p>Comparez toutes les figures <a href="https://epiforecasts.io/EpiNow2/" class="external-link">EpiNow2</a> générées
précédemment.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="défis">Défis<a class="anchor" aria-label="anchor" href="#d%C3%A9fis"></a></h2>
<hr class="half-width"><div id="une-astuce-pour-compléter-le-code" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="une-astuce-pour-compléter-le-code" class="callout-inner">
<h3 class="callout-title">Une astuce pour compléter le code</h3>
<div class="callout-content">
<p>Si nous écrivons l’élément <code>[]</code> à côté de l’objet
<code>covid_serialint_parameters[]</code> à l’intérieur de
<code>[]</code> nous pouvons utiliser le touche de tabulation
<kbd>↹</kbd> pour accéder à la <a href="https://support.posit.co/hc/en-us/articles/205273297-Code-Completion-in-the-RStudio-IDE" class="external-link">fonctionnalité
de complétion de code</a></p>
<p>Elle permet d’accéder rapidement aux éléments suivants
<code>covid_serialint_parameters["meanlog"]</code> et
<code>covid_serialint_parameters["sdlog"]</code>.</p>
<p>Nous vous invitons à tester ceci dans des blocs de code et dans la
console R !</p>
</div>
</div>
</div>
<div id="nombre-de-reproduction-effectif-debola-ajusté-en-fonction-des-délais-de-déclaration" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="nombre-de-reproduction-effectif-debola-ajusté-en-fonction-des-délais-de-déclaration" class="callout-inner">
<h3 class="callout-title">Nombre de reproduction effectif d’Ebola ajusté en fonction des délais de déclaration</h3>
<div class="callout-content">
<p>Téléchargez et lisez les <a href="../data/ebola_cases.csv">données
Ebola</a>:</p>
<ul><li>Estimez le nombre de reproduction effectif en utilisant
<a href="https://epiforecasts.io/EpiNow2/" class="external-link">EpiNow2</a>
</li>
<li>Ajustez l’estimation en fonction des délais de déclaration
disponibles en <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a>
</li>
<li>Pourquoi avez-vous choisi ce paramètre ?</li>
</ul></div>
</div>
</div>
<div id="accordionHint4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint4" aria-expanded="false" aria-controls="collapseHint4">
  <h4 class="accordion-header" id="headingHint4"> Donner un indice </h4>
</button>
<div id="collapseHint4" class="accordion-collapse collapse" aria-labelledby="headingHint4" data-bs-parent="#accordionHint4">
<div class="accordion-body">
<p>Pour calculer la <span class="math inline">\(R_t\)</span> en
utilisant <a href="https://epiforecasts.io/EpiNow2/" class="external-link">EpiNow2</a> nous avons besoin de :</p>
<ul><li>L’incidence agrégée <code>data</code> avec les cas confirmés par
jour, et</li>
<li>La distribution du temps <code>generation</code>.</li>
<li>Optionnellement, les distributions des délais de déclaration
lorsqu’elles sont disponibles (par exemple, la période
d’incubation).</li>
</ul><p>Pour obtenir la distribution des délais à l’aide de
<a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a>, nous pouvons utiliser des fonctions comme
:</p>
<ul><li><code>epiparameter::epiparameter_db()</code></li>
<li><code>epiparameter::parameter_tbl()</code></li>
<li><code>discretise()</code></li>
<li><code>quantile()</code></li>
</ul></div>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Montrer la solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># read data</span></span>
<span><span class="co"># e.g.: if path to file is data/raw-data/ebola_cases.csv then:</span></span>
<span><span class="va">ebola_confirmed</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">read_csv</span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"raw-data"</span>, <span class="st">"ebola_cases.csv"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">incidence2</span><span class="fu">::</span><span class="fu">incidence</span><span class="op">(</span></span>
<span>    date_index <span class="op">=</span> <span class="st">"date"</span>,</span>
<span>    counts <span class="op">=</span> <span class="st">"confirm"</span>,</span>
<span>    count_values_to <span class="op">=</span> <span class="st">"confirm"</span>,</span>
<span>    date_names_to <span class="op">=</span> <span class="st">"date"</span>,</span>
<span>    complete_dates <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="va">count_variable</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># list distributions</span></span>
<span><span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span>disease <span class="op">=</span> <span class="st">"ebola"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">parameter_tbl</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># generation time ---------------------------------------------------------</span></span>
<span></span>
<span><span class="co"># subset one distribution for the generation time</span></span>
<span><span class="va">ebola_serial</span> <span class="op">&lt;-</span> <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"ebola"</span>,</span>
<span>  epi_name <span class="op">=</span> <span class="st">"serial"</span>,</span>
<span>  single_epiparameter <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># adapt epiparameter to epinow2</span></span>
<span><span class="va">ebola_serial_discrete</span> <span class="op">&lt;-</span> <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">discretise</span><span class="op">(</span><span class="va">ebola_serial</span><span class="op">)</span></span>
<span></span>
<span><span class="va">serial_interval_ebola</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">Gamma</span><span class="op">(</span></span>
<span>    mean <span class="op">=</span> <span class="va">ebola_serial</span><span class="op">$</span><span class="va">summary_stats</span><span class="op">$</span><span class="va">mean</span>,</span>
<span>    sd <span class="op">=</span> <span class="va">ebola_serial</span><span class="op">$</span><span class="va">summary_stats</span><span class="op">$</span><span class="va">sd</span>,</span>
<span>    max <span class="op">=</span> <span class="fu">quantile</span><span class="op">(</span><span class="va">ebola_serial_discrete</span>, p <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># incubation time ---------------------------------------------------------</span></span>
<span></span>
<span><span class="co"># subset one distribution for delay of the incubation period</span></span>
<span><span class="va">ebola_incubation</span> <span class="op">&lt;-</span> <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"ebola"</span>,</span>
<span>  epi_name <span class="op">=</span> <span class="st">"incubation"</span>,</span>
<span>  single_epiparameter <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># adapt epiparameter to epinow2</span></span>
<span><span class="va">ebola_incubation_discrete</span> <span class="op">&lt;-</span> <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">discretise</span><span class="op">(</span><span class="va">ebola_incubation</span><span class="op">)</span></span>
<span></span>
<span><span class="va">incubation_period_ebola</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">Gamma</span><span class="op">(</span></span>
<span>    mean <span class="op">=</span> <span class="va">ebola_incubation</span><span class="op">$</span><span class="va">summary_stats</span><span class="op">$</span><span class="va">mean</span>,</span>
<span>    sd <span class="op">=</span> <span class="va">ebola_incubation</span><span class="op">$</span><span class="va">summary_stats</span><span class="op">$</span><span class="va">sd</span>,</span>
<span>    max <span class="op">=</span> <span class="fu">quantile</span><span class="op">(</span><span class="va">ebola_serial_discrete</span>, p <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># epinow ------------------------------------------------------------------</span></span>
<span></span>
<span><span class="co"># run epinow</span></span>
<span><span class="va">epinow_estimates_egi</span> <span class="op">&lt;-</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">epinow</span><span class="op">(</span></span>
<span>  <span class="co"># cases</span></span>
<span>  data <span class="op">=</span> <span class="va">ebola_confirmed</span>,</span>
<span>  <span class="co"># delays</span></span>
<span>  generation_time <span class="op">=</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">generation_time_opts</span><span class="op">(</span><span class="va">serial_interval_ebola</span><span class="op">)</span>,</span>
<span>  delays <span class="op">=</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">delay_opts</span><span class="op">(</span><span class="va">incubation_period_ebola</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">plot</span><span class="op">(</span><span class="va">epinow_estimates_egi</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="../fig/delays-functions-rendered-unnamed-chunk-20-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure></div>
</div>
</div>
</div>
<div id="que-faire-avec-les-distributions-de-weibull" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="que-faire-avec-les-distributions-de-weibull" class="callout-inner">
<h3 class="callout-title">Que faire avec les distributions de Weibull ?</h3>
<div class="callout-content">
<p>Utilisez les données <code>influenza_england_1978_school</code> du
package <a href="https://github.com/reconhub/outbreaks" class="external-link">outbreaks</a> pour calculer le nombre de reproduction
effectif à l’aide de <a href="https://epiforecasts.io/EpiNow2/" class="external-link">EpiNow2</a> en ajustant en fonction des
délais de déclaration disponibles dans <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a>.</p>
</div>
</div>
</div>
<div id="accordionHint5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint5" aria-expanded="false" aria-controls="collapseHint5">
  <h4 class="accordion-header" id="headingHint5"> Donner un indice </h4>
</button>
<div id="collapseHint5" class="accordion-collapse collapse" aria-labelledby="headingHint5" data-bs-parent="#accordionHint5">
<div class="accordion-body">
<p><code>EpiNow2::NonParametric()</code> accepte les fonctions de masse
de probabilité (FMP) de n’importe quelle famille de distribution. Lisez
le guide de référence sur les <a href="https://epiforecasts.io/EpiNow2/reference/Distributions.html" class="external-link">Distributions
de probabilités</a>.</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Montrer la solution </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># What parameters are available for Influenza?</span></span>
<span><span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span>disease <span class="op">=</span> <span class="st">"influenza"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">parameter_tbl</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">epi_name</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># Parameter table:
# A data frame:    3 × 2
  epi_name              n
  &lt;chr&gt;             &lt;int&gt;
1 generation time       1
2 incubation period    15
3 serial interval       1</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># generation time ---------------------------------------------------------</span></span>
<span></span>
<span><span class="co"># Read the generation time</span></span>
<span><span class="va">influenza_generation</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span></span>
<span>    disease <span class="op">=</span> <span class="st">"influenza"</span>,</span>
<span>    epi_name <span class="op">=</span> <span class="st">"generation"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">influenza_generation</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Disease: Influenza
Pathogen: Influenza-A-H1N1
Epi Parameter: generation time
Study: Lessler J, Reich N, Cummings D, New York City Department of Health and
Mental Hygiene Swine Influenza Investigation Team (2009). "Outbreak of
2009 Pandemic Influenza A (H1N1) at a New York City School." _The New
England Journal of Medicine_. doi:10.1056/NEJMoa0906089
&lt;https://doi.org/10.1056/NEJMoa0906089&gt;.
Distribution: weibull (days)
Parameters:
  shape: 2.360
  scale: 3.180</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># EpiNow2 currently accepts Gamma or LogNormal</span></span>
<span><span class="co"># other can pass the PMF function</span></span>
<span></span>
<span><span class="va">influenza_generation_discrete</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">discretise</span><span class="op">(</span><span class="va">influenza_generation</span><span class="op">)</span></span>
<span></span>
<span><span class="va">influenza_generation_max</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">quantile</span><span class="op">(</span><span class="va">influenza_generation_discrete</span>, p <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span></span>
<span></span>
<span><span class="va">influenza_generation_pmf</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">density</span><span class="op">(</span></span>
<span>    <span class="va">influenza_generation_discrete</span>,</span>
<span>    at <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="va">influenza_generation_max</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">influenza_generation_pmf</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0.00000000 0.06312336 0.22134988 0.29721220 0.23896828 0.12485164 0.04309454</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># EpiNow2::NonParametric() can also accept the PMF values</span></span>
<span><span class="va">generation_time_influenza</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">NonParametric</span><span class="op">(</span></span>
<span>    pmf <span class="op">=</span> <span class="va">influenza_generation_pmf</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># incubation period -------------------------------------------------------</span></span>
<span></span>
<span><span class="co"># Read the incubation period</span></span>
<span><span class="va">influenza_incubation</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span></span>
<span>    disease <span class="op">=</span> <span class="st">"influenza"</span>,</span>
<span>    epi_name <span class="op">=</span> <span class="st">"incubation"</span>,</span>
<span>    single_epiparameter <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Discretize incubation period</span></span>
<span><span class="va">influenza_incubation_discrete</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">discretise</span><span class="op">(</span><span class="va">influenza_incubation</span><span class="op">)</span></span>
<span></span>
<span><span class="va">influenza_incubation_max</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">quantile</span><span class="op">(</span><span class="va">influenza_incubation_discrete</span>, p <span class="op">=</span> <span class="fl">0.99</span><span class="op">)</span></span>
<span></span>
<span><span class="va">influenza_incubation_pmf</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">density</span><span class="op">(</span></span>
<span>    <span class="va">influenza_incubation_discrete</span>,</span>
<span>    at <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="va">influenza_incubation_max</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">influenza_incubation_pmf</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 0.00000000 0.05749151 0.16687705 0.22443092 0.21507632 0.16104546 0.09746609
[8] 0.04841928</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># EpiNow2::NonParametric() can also accept the PMF values</span></span>
<span><span class="va">incubation_time_influenza</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">NonParametric</span><span class="op">(</span></span>
<span>    pmf <span class="op">=</span> <span class="va">influenza_incubation_pmf</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># epinow ------------------------------------------------------------------</span></span>
<span></span>
<span><span class="co"># Read data</span></span>
<span><span class="va">influenza_cleaned</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu">outbreaks</span><span class="fu">::</span><span class="va">influenza_england_1978_school</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">date</span>, confirm <span class="op">=</span> <span class="va">in_bed</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run epinow()</span></span>
<span><span class="va">epinow_estimates_igi</span> <span class="op">&lt;-</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">epinow</span><span class="op">(</span></span>
<span>  <span class="co"># cases</span></span>
<span>  data <span class="op">=</span> <span class="va">influenza_cleaned</span>,</span>
<span>  <span class="co"># delays</span></span>
<span>  generation_time <span class="op">=</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">generation_time_opts</span><span class="op">(</span><span class="va">generation_time_influenza</span><span class="op">)</span>,</span>
<span>  delays <span class="op">=</span> <span class="fu">EpiNow2</span><span class="fu">::</span><span class="fu">delay_opts</span><span class="op">(</span><span class="va">incubation_time_influenza</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">plot</span><span class="op">(</span><span class="va">epinow_estimates_igi</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="../fig/delays-functions-rendered-unnamed-chunk-21-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure></div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="prochaines-étapes">Prochaines étapes<a class="anchor" aria-label="anchor" href="#prochaines-%C3%A9tapes"></a></h2>
<hr class="half-width"><div id="comment-obtenir-des-paramètres-de-distribution-à-partir-de-distributions-statistiques" class="callout testimonial">
<div class="callout-square">
<i class="callout-icon" data-feather="heart"></i>
</div>
<div id="comment-obtenir-des-paramètres-de-distribution-à-partir-de-distributions-statistiques" class="callout-inner">
<h3 class="callout-title">Comment obtenir des paramètres de distribution à partir de distributions statistiques ?</h3>
<div class="callout-content">
<p>Comment obtenir la moyenne et l’écart-type d’un temps de génération
avec <em>seulement</em> des paramètres de distribution mais aucune
statistique sommaire tel que <code>mean</code> ou <code>sd</code> pour
<code>EpiNow2::Gamma()</code> ou <code>EpiNow2::LogNormal()</code>?</p>
<p>Regardez la vignette <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> sur <a href="https://epiverse-trace.github.io/epiparameter/articles/extract_convert.html" class="external-link">l’extraction
et la conversion des paramètres</a> et ses<a href="https://epiverse-trace.github.io/epiparameter/articles/extract_convert.html#use-cases" class="external-link">cas
d’utilisations</a>!</p>
</div>
</div>
</div>
<div id="comment-estimer-la-distribution-des-délais-pour-la-maladie-x" class="callout testimonial">
<div class="callout-square">
<i class="callout-icon" data-feather="heart"></i>
</div>
<div id="comment-estimer-la-distribution-des-délais-pour-la-maladie-x" class="callout-inner">
<h3 class="callout-title">Comment estimer la distribution des délais pour la maladie X ?</h3>
<div class="callout-content">
<p>Consultez cet excellent tutoriel sur l’estimation de l’intervalle
sériel et de la période d’incubation de la maladie X en tenant compte de
<em>la censure</em> en utilisant l’inférence bayésienne avec des
packages comme <a href="https://mc-stan.org/rstan/" class="external-link">rstan</a> et
<a href="http://nickreich.github.io/coarseDataTools/" class="external-link">coarseDataTools</a>.</p>
<ul><li>Tutoriel en anglais : <a href="https://rpubs.com/tracelac/diseaseX" class="external-link uri">https://rpubs.com/tracelac/diseaseX</a>
</li>
<li>Tutoriel en Español : <a href="https://epiverse-trace.github.io/epimodelac/EnfermedadX.html" class="external-link uri">https://epiverse-trace.github.io/epimodelac/EnfermedadX.html</a>
</li>
</ul><p><strong>Ensuite,</strong> Après avoir obtenu vos valeurs estimées,
vous pouvez créer manuellement vos propres objets de classe
<code>&lt;epiparameter&gt;</code> à l’aide de la fonction
<code>epiparameter::epiparameter()</code>! Jetez un coup d’œil à son<a href="https://epiverse-trace.github.io/epiparameter/reference/epiparameter.html#ref-examples" class="external-link">guide
de référence sur “Créer un objet
<code>&lt;epiparameter&gt;</code>”</a>!</p>
<p>Enfin, jetez un coup d’œil au derniers packages R <a href="https://epidist.epinowcast.org/" class="external-link"><code>{epidist}</code></a> et <a href="https://primarycensored.epinowcast.org/" class="external-link"><code>{primarycensored}</code></a>
qui fournissent des méthodes pour relever les principaux défis de
l’estimation des distributions, y compris la troncature, la censure par
intervalle et les biais dynamiques.</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Points clés</h3>
<div class="callout-content">
<ul><li>Utilisez les fonctions de distribution avec
<code>&lt;epiparameter&gt;</code> pour obtenir des statistiques
sommaires et des paramètres informatifs pour les interventions de santé
publique, comme la fenêtre de recherche des contacts et la durée de la
quarantaine.</li>
<li>Utilisez <code>discretise()</code> pour convertir les distributions
de délais continues en distributions discrètes.</li>
<li>Utilisez <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> pour obtenir les délais de
déclaration requis dans les estimations de transmissibilité.</li>
</ul></div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Chapitre Précédent et Suivant"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/quantify-transmissibility.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Précédent</a>
        <a class="chapter-link float-end" href="../instructor/create-forecast.html">Suivant<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/quantify-transmissibility.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Précédent: Quantifier la
        </a>
        <a class="chapter-link float-end" href="../instructor/create-forecast.html" rel="next">
          Suivant: Établir des...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>Cette leçon est soumise au <a href="CODE_OF_CONDUCT.html">Code de Conduite</a></p>
        <p>

        <a href="https://github.com/epiverse-trace/tutorials-middle-fr/edit/main/episodes/delays-functions.Rmd" class="external-link">Modifier sur GitHub</a>

	
        | <a href="https://github.com/epiverse-trace/tutorials-middle-fr/blob/main/CONTRIBUTING.md" class="external-link">Contribuer</a>
        | <a href="https://github.com/epiverse-trace/tutorials-middle-fr/" class="external-link">Code Source</a></p>
				<p><a href="https://github.com/epiverse-trace/tutorials-middle-fr/blob/main/CITATION.cff" class="external-link">Citer</a> | <a href="mailto:andree.valle-campos@lshtm.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">À propos</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Modèle publié sous licence <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> par <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Construit avec <a href="https://github.com/epiverse-trace/sandpaper/tree/patch-renv-github-bug" class="external-link">sandpaper (0.16.13.9000)</a>, <a href="https://github.com/carpentries/pegboard/tree/7dc6acfdd6233c0d124a0ecf288325edc40dd96d" class="external-link">pegboard (0.7.9)</a>, et <a href="https://github.com/epiverse-trace/varnish/tree/epiversetheme" class="external-link">varnish (1.0.7.9000)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Retour En Haut"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Retour</span> En Haut
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://epiverse-trace.github.io/tutorials-middle-fr/instructor/delays-functions.html",
  "inLanguage": "fr",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "forecasts, epidemic models, interventions",
  "name": "Utiliser les distributions de délais dans l'analyse",
  "creativeWorkStatus": "active",
  "url": "https://epiverse-trace.github.io/tutorials-middle-fr/instructor/delays-functions.html",
  "identifier": "https://epiverse-trace.github.io/tutorials-middle-fr/instructor/delays-functions.html",
  "dateCreated": "2025-11-02",
  "dateModified": "2025-11-02",
  "datePublished": "2025-11-02"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->


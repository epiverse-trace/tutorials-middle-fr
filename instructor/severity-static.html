<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="fr" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Analyse et prévisions en temps réel des épidémies avec R: Estimation de la gravité d'une épidémie</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XZ471458FQ');
    </script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/epiverse-trace/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicons/epiverse-trace/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicons/epiverse-trace/favicon-16x16.png"><link rel="manifest" href="../favicons/epiverse-trace/site.webmanifest"><link rel="mask-icon" href="../favicons/epiverse-trace/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav epiverse-trace"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Passer au contenu principal</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="epiverse-trace-logo" alt="epiverse-trace" src="../assets/images/epiverse-trace-logo.svg"><span class="badge text-bg-danger" style="background-color: #FF4955; border-radius: 5px">
          <abbr title="Cette leçon est en version pre-alpha, ce qui signifie qu'elle est au début de son développement, mais n'a pas encore été enseignée.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">Cette leçon est en version pre-alpha, ce qui signifie qu'elle est au début de son développement, mais n'a pas encore été enseignée.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Changer de thème (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Vue Instructeur <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../severity-static.html';">Vue Apprenti</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav epiverse-trace" aria-label="Navigation Principale"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Afficher/cacher la barre de navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="epiverse-trace" src="../assets/images/epiverse-trace-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Analyse et prévisions en temps réel des épidémies avec R
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Rechercher dans la page 'All In One'" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Analyse et prévisions en temps réel des épidémies avec R
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Points clés</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Notes de l'instructeur</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extraire toutes les images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Voir plus <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><hr><li><a class="dropdown-item" href="reference.html">Glossary of Terms: Epiverse-TRACE</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Rechercher dans la page 'All In One'"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Rechercher dans la page 'All In One'">Rechercher dans la page 'All In One'</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Analyse et prévisions en temps réel des épidémies avec R
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 93%" class="percentage">
    93%
  </div>
  <div class="progress epiverse-trace">
    <div class="progress-bar epiverse-trace" role="progressbar" style="width: 93%" aria-valuenow="93" aria-label="Avancée de la leçon" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="fermer le menu" alt="fermer le menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Cacher " data-episodes="Épisodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Vue Instructeur
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../severity-static.html">Vue Apprenti</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  ÉPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Résumé et Emploi du Temps</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="delays-access.html">1. Accéder aux distribution des délais épidémiologiques</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="quantify-transmissibility.html">2. Quantifier la transmission</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="delays-functions.html">3. Utiliser les distributions de délais dans l'analyse</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="create-forecast.html">4. Établir des prévisions à court terme</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        5. Estimation de la gravité d'une épidémie
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#introduction">Introduction</a></li>
<li><a href="#sources-de-donn%C3%A9es-pour-la-gravit%C3%A9-clinique">Sources de données pour la gravité clinique</a></li>
<li><a href="#estimation-du-risque-de-l%C3%A9talit%C3%A9-rl-na%C3%AFf">Estimation du risque de létalité (RL) naïf</a></li>
<li><a href="#biais-affectant-lestimation-du-cfr">Biais affectant l’estimation du CFR</a></li>
<li><a href="#rl-ajust%C3%A9-au-d%C3%A9lai">RL ajusté au délai</a></li>
<li><a href="#estimation-du-rl-au-d%C3%A9but-dune-%C3%A9pid%C3%A9mie">Estimation du RL au début d’une épidémie</a></li>
<li><a href="#challenges">Challenges</a></li>
<li><a href="#annexe">Annexe</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESSOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Points clés</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Notes de l'instructeur</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extraire toutes les images</a>
                      </li>
                      <hr><li><a class="dropdown-item" href="reference.html">Glossary of Terms: Epiverse-TRACE</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="../instructor/aio.html">Voir tout sur une seule page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Chapitre Précédent et Suivant"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/create-forecast.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Précédent</a>
        <a class="chapter-link float-end" href="../instructor/index.html">Suivant<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/create-forecast.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Précédent: Établir des
        </a>
        <a class="chapter-link float-end" href="../instructor/index.html" rel="next">
          Accueil
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Estimation de la gravité d'une épidémie</h1>
        <p>Dernière mise à jour le 2025-10-13 |

        <a href="https://github.com/epiverse-trace/tutorials-middle-fr/edit/main/episodes/severity-static.Rmd" class="external-link">Modifier cette page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <p>Durée estimée : <i aria-hidden="true" data-feather="clock"></i> 12 minutes</p>

        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Afficher toutes les solutions " data-collapse="Cacher toutes les solutions "> Afficher toutes les solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Vue d'ensemble</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li><p>Pourquoi estime-t-on la gravité clinique d’une épidémie
?</p></li>
<li><p>Comment peut-on estimer le risque de létalité (RL) au début d’une
épidémie en cours ?</p></li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectifs</h3>
<ul><li><p>Estimer le risque de létalité (RL) à partir de données
épidémiologiques agrégées en utilisant la librairie
<a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a>.</p></li>
<li><p>Estimer le RL ajusté au délai épidémiologique à l’aide des
librairies <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> et <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a>.</p></li>
<li><p>Estimer la sévérité ajustée au délai épidémiologique pour une
série chronologique en expansion en utilisant le package
<a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a>.</p></li>
</ul></div>
</div>
</div>
</div>
</div>
<div id="prereq1" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Pré-requis</h3>
<div class="callout-content">
<p>Les concepts abordés dans cet épisode supposent que vous êtes
familiers avec :</p>
<p><strong>Science des données</strong>: Programmation de base avec
R.</p>
<p><strong>Théorie des épidémies</strong>: <a href="reference.html#delaydist">Distributions des délais</a>.</p>
<p><strong>R packages installés</strong>: <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a>,
<a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a>, <a href="https://github.com/reconhub/outbreaks" class="external-link">outbreaks</a>,
<a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a>.</p>
</div>
</div>
</div>
<div id="accordionSpoiler1" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler1" aria-expanded="false" aria-controls="collapseSpoiler1">
  <h3 class="accordion-header" id="headingSpoiler1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> Afficher les détails </h3>
</button>
<div id="collapseSpoiler1" class="accordion-collapse collapse" aria-labelledby="headingSpoiler1" data-bs-parent="#accordionSpoiler1">
<div class="accordion-body">
<p>Installer les packages si elles ne le sont pas déjà:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># si {pak} n'est pas disponible, exécutez : install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu">pak</span><span class="op">(</span><span class="st">"cfr"</span><span class="op">)</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu">pak</span><span class="op">(</span><span class="st">"epiparameter"</span><span class="op">)</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu">pak</span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu">pak</span><span class="op">(</span><span class="st">"outbreaks"</span><span class="op">)</span></span></code></pre>
</div>
<p>Si vous recevez un message d’erreur, rendez-vous sur la <a href="index.html#configuration-des-logiciels">page principale de
configuration</a>.</p>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a></h2>
<hr class="half-width"><p>Les questions les plus fréquentes au début d’une épidémie sont:</p>
<ul><li>Quel est l’impact probable de l’épidémie sur la santé publique en
termes de gravité clinique ?</li>
<li>Quels sont les groupes les plus gravement touchés ?</li>
<li>L’épidémie risque-t-elle de provoquer une pandémie très grave ?</li>
</ul><p>Nous pouvons évaluer le potentiel pandémique d’une épidémie à l’aide
de deux mesures essentielles : la transmissibilité et la gravité
clinique. (<a href="https://www.science.org/doi/full/10.1126/science.1176062" class="external-link">Fraser
et al. 2009</a>, <a href="https://www.cdc.gov/flu/pandemic-resources/national-strategy/severity-assessment-framework-508.html" class="external-link">CDC,
2016</a>).</p>
<p><img src="../fig/cfr-hhs-scenarios-psaf.png" alt="Scénarios de planification pandémique du HHS basés sur le cadre d’évaluation de la gravité de la pandémie. Ce cadre utilise une mesure combinant la gravité clinique et la transmissibilité pour caractériser les scénarios de pandémie de grippe. HHS: United States Department of Health and Human Services (CDC, 2016)" class="figure">{alt=‘L’axe
horizontal représente la mesure de la gravité clinique, échelonnée de 1
à 7, où 1 correspond à faible, 4 à modérée et 7 à très grave. L’axe
vertical représente la mesure de la transmissibilité, échelonnée de 1 à
5, où 1 correspond à faible, 3 à modérée et 5 à forte transmissibilité.
Sur le graphique, les scénarios de planification d’une pandémie sont
présentés en quatre quadrants (A, B, C et D). De gauche à droite, les
scénarios sont: “variation saisonnière”, “pandémie modérée”, “pandémie
grave” et “pandémie très grave”. À mesure que la gravité clinique
augmente sur l’axe horizontal, ou que la transmissibilité augmente sur
l’axe vertical, la gravité du scénario de planification de la pandémie
augmente également.’}</p>
<p>Une approche épidémiologique pour estimer la gravité clinique
consiste à quantifier le risque de létalité (RL). Le risque de létalité
est la probabilité conditionnelle de décès en cas de diagnostic
confirmé, calculée comme le rapport entre le nombre cumulé de décès dus
à une maladie infectieuse et le nombre de cas diagnostiqués confirmés.
Toutefois, le calcule de ce paramètre de cette façon au cours d’une
épidémie tend à aboutir à un RL naïf ou biaisé, compte tenu du <a href="../../../learners/reference.html#delaydist">délai</a> entre
l’apparition de la maladie et le décès, qui varie considérablement au
fur et à mesure que l’épidémie progresse et se stabilise aux derniers
stades de l’épidémie (<a href="https://academic.oup.com/aje/article/162/5/479/82647?login=false#620743" class="external-link">Ghani
et al. 2005</a>).</p>
<figure><img src="../fig/cfr-pone.0006852.g003-fig_c.png" fig-alt="Les périodes sont pertinentes : Période 1 -- 15 jours où le RL est nul, ce qui indique qu'aucun décès n'a été signalé ; Période du 15 mars au 26 avril où le RL semble augmenter ; Période du 30 avril au 30 mai où l'estimation du RL se stabilise." alt="Estimations du risque de létalité (RL) observé biaisé confirmé en fonction du temps (ligne épaisse), calculé comme le rapport entre le nombre cumulé de décès et de cas confirmés à un instant t. La valeur atteinte à la fin d’une épidémie (~30 mai) est le risque de létalité observé à la fin de l’épidémie. La ligne horizontale continue et les lignes pointillées indiquent la valeur du RL prédit et leurs intervalles de confiance à 95% (IC 95%) des valeurs prédites du taux de mortalité ajusté au délai en utilisant uniquement les données observées jusqu’au 27 mars 2003. (Nishiura et al., 2009)" class="figure mx-auto d-block"><div class="figcaption">Estimations du risque de létalité (RL) observé
biaisé confirmé en fonction du temps (ligne épaisse), calculé comme le
rapport entre le nombre cumulé de décès et de cas confirmés à un instant
<span class="math inline">\(t\)</span>. La valeur atteinte à la fin
d’une épidémie (~30 mai) est le risque de létalité observé à la fin de
l’épidémie. La ligne horizontale continue et les lignes pointillées
indiquent la valeur du RL prédit et leurs intervalles de confiance à 95%
(IC <span class="math inline">\(95%\)</span>) des valeurs prédites du
taux de mortalité ajusté au délai en utilisant uniquement les données
observées jusqu’au 27 mars 2003. (<a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0006852" class="external-link">Nishiura
et al., 2009</a>)</div>
</figure><div id="accordionInstructor1" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor1" aria-expanded="false" aria-controls="collapseInstructor1">
  <h3 class="accordion-header" id="headingInstructor1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Remarque de l'instructeur </h3>
</button>
<div id="collapseInstructor1" class="accordion-collapse collapse" aria-labelledby="headingInstructor1" data-bs-parent="#accordionInstructor1">
<div class="accordion-body">
<p>Les périodes sont pertinentes : Période 1 – 15 jours où le RL est
nul, ce qui indique qu’aucun décès n’a été signalé ; Période du 15 mars
au 26 avril où le RL semble augmenter ; Période du 30 avril au 30 mai où
l’estimation du RL se stabilise.</p>
</div>
</div>
</div>
</div>
<p>Généralement, l’estimation de la gravité clinique d’une maladie peut
être utile même en dehors d’un scénario de planification d’une pandémie
et dans le contexte de la santé publique courante. Le fait de savoir si
une épidémie a ou a eu une gravité différente de celle observée dans le
passé peut motiver des recherches pour identifier les causes. Celles-ci
peuvent être intrinsèques à l’agent infectieux (par exemple, une
nouvelle souche plus grave) ou liées à des facteurs sous-jacents dans la
population (par exemple, une immunité réduite ou des facteurs de
morbidité) (<a href="https://journals.plos.org/plosntds/article?id=10.1371/journal.pntd.0003846" class="external-link">Lipsitch
et al., 2015</a>).</p>
<p>Dans ce tutoriel, nous allons apprendre à utiliser la librairie
<a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a> pour calculer et ajuster le risque de gravité
clinique en utilisant <a href="reference.html#delaydist">la distribution
des délais</a> obtenue de la librairie <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> ou de
d’autres sources, sur la base des méthodes développées par <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0006852" class="external-link">Nishiura
et al. 2009</a>. Nous allons aussi explorer la libraire
<a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a> pour determiner comment l’utiliser pour calculer
d’autres mesures de sévérité clinique.</p>
<p>Nous utiliserons l’opérateur pipe (<code>%&gt;%</code>) de la
librairie <a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a> pour relier facilement certaines
fonctions de la librairie <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a>, y compris les fonctions de
la librairie de formatage de données <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>. Nous
chargerons donc la librairie <a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a>, qui comprend à la
fois les librairies <a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a> et <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># charger les packages</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">cfr</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">epiparameter</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">outbreaks</span><span class="op">)</span></span></code></pre>
</div>
<div id="lopérateur-double-deux-points" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="lopérateur-double-deux-points" class="callout-inner">
<h3 class="callout-title">L’opérateur double deux-points
(<code>::</code>)</h3>
<div class="callout-content">
<p>L’opérateur <code>::</code> de R permet d’accéder aux fonctions ou
aux objets d’un package spécifique sans attacher l’intégralité du
package (sans faire appel à la function <code>libray()</code>). Il offre
plusieurs avantages, notamment :</p>
<ul><li>Indiquer explicitement le package d’origine d’une fonction,
réduisant ainsi les ambiguïtés et les conflits potentiels lorsque
plusieurs packages possèdent des fonctions portant le même nom.</li>
<li>Permettre d’appeler une fonction depuis un package sans charger
l’intégralité du package avec un appel à la fonction
<code>library()</code>.</li>
</ul><p>Par exemple, la commande <code>dplyr::filter(data, condition)</code>
signifie que nous appelons la fonction <code>filter()</code> depuis la
librairie <a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a>.</p>
</div>
</div>
</div>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Discussion</h3>
<div class="callout-content">
<p>Etiez-vous membre d’une équipe chargée de de concevoir des stratégies
de réponse à une épidémie? Si oui:</p>
<ul><li>Comment évaluez-vous la gravité clinique de l’épidémie ?</li>
<li>Quelles étaient les principales sources de biais ?</li>
<li>Qu’aviez-vous fait pour prendre en compte les biais identifiés
?</li>
<li>Quelle analyse complémentaire feriez-vous pour résoudre le biais
?</li>
</ul></div>
</div>
</div>
</section><section><h2 class="section-heading" id="sources-de-données-pour-la-gravité-clinique">Sources de données pour la gravité clinique<a class="anchor" aria-label="anchor" href="#sources-de-donn%C3%A9es-pour-la-gravit%C3%A9-clinique"></a></h2>
<hr class="half-width"><p>Quelles sont les sources de données qu’on peut utiliser pour estimer
la gravité clinique d’une épidémie? <a href="https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30243-7/fulltext" class="external-link">Verity
et al, 2020</a> résume le spectre des cas de COVID-19 :</p>
<figure><img src="../fig/cfr-spectrum-cases-covid19.jpg" alt="Spectre des cas de COVID-19. Le CFR vise à estimer la proportion de décès parmi les cas confirmés d’une épidémie. (Verity et al., 2020)" class="figure mx-auto d-block"><div class="figcaption">Spectre des cas de COVID-19. Le CFR vise à
estimer la proportion de décès parmi les cas confirmés d’une épidémie.
(<a href="https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30243-7/fulltext#gr1" class="external-link">Verity
et al., 2020</a>)</div>
</figure><ul><li>Au sommet de la pyramide, les cas définis comme
<strong>grave</strong> ou <strong>critiques</strong> selon les critères
établis par l’OMS. Ces cas auraient probablement été identifiés en
milieu hospitalier, présentant une pneumonie virale atypique. Ils
auraient été identifiés en Chine continentale et parmi ceux classés au
niveau international comme émanants d’une transmission locale.</li>
<li>Beaucoup d’autres sont probablement <strong>symptomatiques</strong>
(c’est-à-dire avec de la fièvre, de la toux ou des myalgies), mais ne
nécessiteront peut-être pas d’hospitalisation. Ces cas auraient été
identifiés grâce à leurs liens avec des voyageurs internationaux dans
des zones à haut risque et grâce à la recherche des personnes en contact
avec les cas confirmés. Ils pourraient être identifiés grâce à la
surveillance de la population, par exemple en cas de syndrome
grippal.</li>
<li>La partie inférieure de la pyramide représente les cas
<strong>bénins</strong> (et éventuellement
<strong>asymptomatiques</strong>). Ces cas pourraient être identifiés
par la recherche de cas contacts et, puis par des tests
sérologiques.</li>
</ul></section><section><h2 class="section-heading" id="estimation-du-risque-de-létalité-rl-naïf">Estimation du risque de létalité (RL) naïf<a class="anchor" aria-label="anchor" href="#estimation-du-risque-de-l%C3%A9talit%C3%A9-rl-na%C3%AFf"></a></h2>
<hr class="half-width"><p>Nous mesurons la gravité d’une maladie en termes de risque de
létalité (RL). Le RL est interprété comme la probabilité conditionnelle
de décès en cas de diagnostic confirmé, calculée comme le ratio du
nombre cumulé de décès <span class="math inline">\(D_{t}\)</span> sur le
nombre cumulé de cas confirmés <span class="math inline">\(C_{t}\)</span> à un moment donné <span class="math inline">\(t\)</span>. Nous pouvons le référer au <em>RL
naïf</em> (également RL brut ou biaisé, <span class="math inline">\(b_{t}\)</span>) :</p>
<p><span class="math display">\[ b_{t} =  \frac{D_{t}}{C_{t}}
\]</span></p>
<p>Cette formule est considérée comme <em>naïve</em> parce qu’elle tend
à produire un RL biaisé et largement sous-estimé en raison du délai
entre l’apparition de la maladie et le décès, qui ne se stabilise que
vers la fin de l’épidémie.</p>
<p>Pour calculer le RL naïf à l’aide de la librairie <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a>,
on a besoin d’un tableau de données comportant au minimum trois colonnes
nommées :</p>
<ul><li><code>date</code></li>
<li><code>cases</code></li>
<li><code>deaths</code></li>
</ul><p>Explorons le tableau de données <code>ebola1976</code> inclus dans le
package <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a>, et qui contient les données provenant de la
première épidémie d’Ebola au Zaïre (actuelle la République Démocratique
du Congo) en 1976, comme l’ont analysé Camacho et al. (2014).</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># charger le tableau de donnees ebola1976 du package {cfr}</span></span>
<span><span class="fu">data</span><span class="op">(</span><span class="st">"ebola1976"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Visualiser l'incidence du nombre de cas et de deces repertorie</span></span>
<span><span class="va">ebola1976</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">incidence2</span><span class="fu">::</span><span class="fu">incidence</span><span class="op">(</span></span>
<span>    date_index <span class="op">=</span> <span class="st">"date"</span>,</span>
<span>    counts <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"cases"</span>, <span class="st">"deaths"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">plot</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="../fig/severity-static-rendered-unnamed-chunk-3-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Nous supposerons que nous sommes dans le contexte d’une
<strong>épidémie d’Ebola en cours</strong> où nous disposons que des
données collectées durant les <strong>30 premiers jours</strong> de
l’épidémie.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># supposons que nous disposons des donnees des 30 premiers jours de l'epidemie</span></span>
<span><span class="va">ebola_30days</span> <span class="op">&lt;-</span> <span class="va">ebola1976</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">slice_head</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">30</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ebola_30days</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 30 × 3
   date       cases deaths
   &lt;date&gt;     &lt;int&gt;  &lt;int&gt;
 1 1976-08-25     1      0
 2 1976-08-26     0      0
 3 1976-08-27     0      0
 4 1976-08-28     0      0
 5 1976-08-29     0      0
 6 1976-08-30     0      0
 7 1976-08-31     0      0
 8 1976-09-01     1      0
 9 1976-09-02     1      0
10 1976-09-03     1      0
# ℹ 20 more rows</code></pre>
</div>
<div id="nous-avons-besoin-de-données-dincidence-agrégées" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="nous-avons-besoin-de-données-dincidence-agrégées" class="callout-inner">
<h3 class="callout-title">Nous avons besoin de données d’incidence agrégées</h3>
<div class="callout-content">
<p>Les données d’entrée des fonctions de la <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a> sont des
données d’incidence, qui sont ont été <strong>agrégées</strong> à partir
des données de cas individuels.</p>
<!-- Similaire à `{EpiNow2}`, mais `{cfr}` prend une colonne supplémentaire nommée `deaths`. -->
<p>Ces données doivent être <strong>agrégées</strong> par “unité de
temps”, c’est-à-dire une observation par unité de temps, contenant le
nombre de cas et de décès signalés en un temps donné. Les observations
avec des valeurs nulles ou manquantes doivent également être incluses,
comme pour les données de séries temporelles.</p>
<p>Cependant, il faut noter que la version actuelle de
<a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a> requière des données agrégées <em>journaliers</em>.
Les autres unités temporelles d’agrégation de données telles que les
semaines, mois, etc ne sont pour le moment pas pris en charge.</p>
<!-- Proposez des moyens de traiter les données d'incidences hebdomadaires -->
<!-- https://github.com/epiverse-trace/cfr/issues/117 -->
</div>
</div>
</div>
<p>La fonction <code>cfr::cfr_static()</code> permet de calculer le RL
naïf.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculer le RL naïf durant les 30 premiers jours</span></span>
<span><span class="fu">cfr</span><span class="fu">::</span><span class="fu">cfr_static</span><span class="op">(</span>data <span class="op">=</span> <span class="va">ebola_30days</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  severity_estimate severity_low severity_high
1         0.4740741    0.3875497     0.5617606</code></pre>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<p>Téléchargez le fichier <a href="../data/sarscov2_cases_deaths.csv">sarscov2_cases_deaths.csv</a> et
importez-le dans R. Puis estimez le RL naïf.</p>
</div>
</div>
</div>
<div id="accordionHint1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint1" aria-expanded="false" aria-controls="collapseHint1">
  <h4 class="accordion-header" id="headingHint1"> Donner un indice </h4>
</button>
<div id="collapseHint1" class="accordion-collapse collapse" aria-labelledby="headingHint1" data-bs-parent="#accordionHint1">
<div class="accordion-body">
<p>Vérifier le format des données d’entrée en répondant aux questions
suivantes:</p>
<ul><li>Contient-il des données d’incidences quotidiennes ?</li>
<li>Les noms des colonnes sont-ils conformes aux exigences de la
fonction <code>cfr_static()</code> ?</li>
<li>Comment renommer les noms de colonnes d’un tableau de données ?</li>
</ul></div>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Montrer la solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Importez les données téléchargées à l’aide de la fonction
<code>readr::read_csv()</code>. Cette fonction reconnaît que la colonne
<code>date</code> est de type <code>&lt;Date&gt;</code>.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># importer les données dans R</span></span>
<span><span class="co"># supposons que le chemin d'accès au fichier est data/raw-data/ebola_cases.csv</span></span>
<span><span class="va">sarscov2_input</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu">read_csv</span><span class="op">(</span></span>
<span>  file <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"raw-data"</span>, <span class="st">"sarscov2_cases_deaths.csv"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># voir un aperçu des données</span></span>
<span><span class="va">sarscov2_input</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 93 × 3
   date       cases_jpn deaths_jpn
   &lt;date&gt;         &lt;dbl&gt;      &lt;dbl&gt;
 1 2020-01-20         1          0
 2 2020-01-21         1          0
 3 2020-01-22         0          0
 4 2020-01-23         1          0
 5 2020-01-24         1          0
 6 2020-01-25         3          0
 7 2020-01-26         3          0
 8 2020-01-27         4          0
 9 2020-01-28         6          0
10 2020-01-29         7          0
# ℹ 83 more rows</code></pre>
</div>
<p>Nous pouvons utiliser la fonction
<code>cleanepi::standardize_column_names()</code> pour renommer les noms
des colonnes de sorte qu’elles soient conforment aux exigences de la
fonction <code>cfr::cfr_static()</code>.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># renommer les noms des colonnes</span></span>
<span><span class="va">sarscov2_input</span> <span class="op">&lt;-</span> <span class="va">sarscov2_input</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_column_names</span><span class="op">(</span></span>
<span>    rename <span class="op">=</span> <span class="fu">c</span><span class="op">(</span>cases <span class="op">=</span> <span class="st">"cases_jpn"</span>, deaths <span class="op">=</span> <span class="st">"deaths_jpn"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># estimer le RL naïf</span></span>
<span><span class="fu">cfr</span><span class="fu">::</span><span class="fu">cfr_static</span><span class="op">(</span><span class="va">sarscov2_input</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  severity_estimate severity_low severity_high
1        0.01895208   0.01828832    0.01963342</code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="biais-affectant-lestimation-du-cfr">Biais affectant l’estimation du CFR<a class="anchor" aria-label="anchor" href="#biais-affectant-lestimation-du-cfr"></a></h2>
<hr class="half-width"><div id="deux-biais-qui-affectent-lestimation-du-rl" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="deux-biais-qui-affectent-lestimation-du-rl" class="callout-inner">
<h3 class="callout-title">Deux biais qui affectent l’estimation du RL</h3>
<div class="callout-content">
<p><a href="https://journals.plos.org/plosntds/article?id=10.1371/journal.pntd.0003846" class="external-link">Lipsitch
et al, 2015</a> ont décrit deux biais potentiels qui peuvent affecter
l’estimation du RL (et comment y remédier) :</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> 1. Études préférentielle des cas graves </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<p>Pour les maladies ayant un <em>spectre</em> de présentations
cliniques, les cas qui sont portés à l’attention des autorités de santé
publique et enregistrés dans les bases de données de surveillance sont
généralement des personnes présentant les symptômes les plus graves, qui
consultent un médecin, admises à l’hôpital ou décèdent.</p>
<p>Par conséquent, le RL sera généralement plus élevé chez les <em>cas
confirmés</em> que dans l’ensemble de la population des cas, étant donné
que cette dernière peut inclure des personnes présentant des symptômes
légers, subcliniques et (selon certaines définitions de “cas”)
asymptomatiques.</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> 2. Biais dû à une déclaration tardive du décès </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" aria-labelledby="headingSolution3" data-bs-parent="#accordionSolution3">
<div class="accordion-body">
<p>Lors d’une épidémie <em>en cours</em>, il y a un délai entre le
moment où une personne décède et le moment où son décès est signalé. Par
conséquent, à tout moment, la liste des cas contient des individus qui
vont mourir et dont le décès n’est pas encore survenu ou qui est survenu
mais n’a pas encore été signalé. Ainsi, la division du nombre cumulé de
décès déclarés par le nombre cumulé de cas déclarés en un moment donné
d’une épidémie sous-évaluera le véritable RL.</p>
<p>Les principaux facteurs déterminants de l’ampleur du biais sont, le
<em>taux de croissance de l’épidémie</em> et la <em>distribution des
délais</em> entre la déclaration des cas et la déclaration des décès ;
plus les délais sont longs, plus le taux de croissance est rapide, et
plus le biais est important.</p>
<p>Dans les sections suivantes de cet épisode du tutoriel, nous allons
nous concentrer sur les solutions concernant spécifiquement ce biais en
utilisant la librairie <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a>.</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Étude de cas : Grippe A (H1N1), Mexique, 2009 </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" aria-labelledby="headingSolution4" data-bs-parent="#accordionSolution4">
<div class="accordion-body">
<p>Il est crucial d’améliorer l’estimation du RL ajusté au délais au
début d’une épidémie pour déterminer sa virulence, mais aussi le niveau
et les choix des interventions de santé publique et fournir des conseils
au grand public.</p>
<p>En 2009, lors de l’épidémie de grippe porcine A (H1N1), le Mexique a
effectué une estimation précoce biaisée du RL. Les premiers rapports du
gouvernement mexicain faisaient état d’une infection virulente, alors
que dans d’autres pays, le même virus était perçu comme bénin (<a href="https://content.time.com/time/health/article/0,8599,1894534,00.html" class="external-link">TIME,
2009</a>).</p>
<p>Aux États-Unis et au Canada, aucun décès n’a été attribué au virus
durant les dix jours qui ont suivi la déclaration d’urgence de santé
publique par l’OMS. Même dans des circonstances similaires, au début
d’une pandémie mondiale, les responsables de la santé publique, les
décideurs et le grand public veulent connaître la virulence d’un agent
infectieux émergent.</p>
<p><a href="https://www.bmj.com/content/339/bmj.b2840" class="external-link">Garske et al,
2009</a> évaluer les défis afin d’estimer la gravité de cette pandémie,
en soulignant que le fait de recenser avec précision les cas pour le
dénominateur peut améliorer la capacité à obtenir des estimations
informatives du taux de létalité.</p>
</div>
</div>
</div>
</div>
<div id="accordionInstructor2" class="accordion instructor-note accordion-flush">
<div class="accordion-item">
<button class="accordion-button instructor-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInstructor2" aria-expanded="false" aria-controls="collapseInstructor2">
  <h3 class="accordion-header" id="headingInstructor2">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="edit-2"></i></div> Remarque de l'instructeur </h3>
</button>
<div id="collapseInstructor2" class="accordion-collapse collapse" aria-labelledby="headingInstructor2" data-bs-parent="#accordionInstructor2">
<div class="accordion-body">
<p>Vous trouverez plus d’informations concernant l’effet des délais dans
l’estimation du RL dans cette section de la <a href="https://epiverse-trace.github.io/cfr/articles/cfr.html#concept-how-reporting-delays-bias-cfr-estimates" class="external-link">vignette
de la librairie <code>{cfr}</code></a>.</p>
<!-- créez un code et ensuite un .gif ? -->
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="rl-ajusté-au-délai">RL ajusté au délai<a class="anchor" aria-label="anchor" href="#rl-ajust%C3%A9-au-d%C3%A9lai"></a></h2>
<hr class="half-width"><p><a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0006852" class="external-link">Nishiura
et al, 2009</a> ont développé une méthode de calcul du RL qui prend en
compte les <strong>délais</strong> entre l’apparition des symptômes et
le décès.</p>
<p>Durant certaines phases d’une épidémie en cours, il peut arriver que
le nombre de décès soit insuffisant pour déterminer la distribution du
temps entre l’apparition des symptômes et le décès. Par conséquent, nous
pouvons obtenir une estimation de la <em>distribution de ce délai</em> à
partir d’épidémies antérieures ou en réutilisant celles qui sont
accessibles via des librairies R tels que <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> ou
<code>{epireview}</code> qui les collectent à partir de la littérature
scientifique publiée. Lisez l’épisode <a href="https://epiverse-trace.github.io/tutorials-early/delays-reuse.html" class="external-link">accéder
aux délais épidémiologiques</a> de ce tutoriel pour de plus amples
informations.</p>
<p>Obtenons la distribution du délai entre la date d’apparition des
symptômes et la date de décès via la librairie
<a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a>.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># obtenir la distribution du délai</span></span>
<span><span class="va">onset_to_death_ebola</span> <span class="op">&lt;-</span> <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"Ebola"</span>,</span>
<span>  epi_name <span class="op">=</span> <span class="st">"onset_to_death"</span>,</span>
<span>  single_epiparameter <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># visualiser la distribution du délai</span></span>
<span><span class="fu">plot</span><span class="op">(</span><span class="va">onset_to_death_ebola</span>, day_range <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">40</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="../fig/severity-static-rendered-unnamed-chunk-11-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Pour prendre en compte la distribution du délai lors du calcul le RL
ajusté au délai, nous devons fournir à l’arguemt
<code>delay_density</code> de la fonction <code>cfr::cfr_static()</code>
la valeur correspondante.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># calculer le RL ajusté au délai pour les 30 premiers jours</span></span>
<span><span class="fu">cfr</span><span class="fu">::</span><span class="fu">cfr_static</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">ebola_30days</span>,</span>
<span>  delay_density <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">density</span><span class="op">(</span><span class="va">onset_to_death_ebola</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  severity_estimate severity_low severity_high
1            0.9502        0.881        0.9861</code></pre>
</div>
<p>Le RL ajusté au délai indique que la gravité globale de la maladie
<em>à la fin de l’épidémie</em> ou selon les <em>récentes données
disponibles à ce moment-là</em> est 0.9502 avec un intervalle de
confiance de 95% entre 0.881 et 0.9861, légèrement supérieure à la
valeur naïve.</p>
<div id="utilisation-des-objets-de-la-classe-epiparameter" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="utilisation-des-objets-de-la-classe-epiparameter" class="callout-inner">
<h3 class="callout-title">Utilisation des objets de la classe epiparameter</h3>
<div class="callout-content">
<p>Lorsque vous utilisez un object de la classe
<code>&lt;epiparameter&gt;</code>, vous pouvez utiliser cette expression
comme modèle :</p>
<p><code>function(x) density(&lt;NOM_OBJECT_EPIPARAMETER&gt;, x)</code></p>
<p>Pour les fonctions de distribution dont les paramètres ne sont pas
disponibles dans <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> nous vous proposons deux
alternatives :</p>
<ul><li><p>Créer un objet de la classe <code>&lt;epiparameter&gt;</code>
pour l’intégrer dans d’autres packages R d’un pipeline d’analyse
épidémiologique. Lisez l’article <a href="https://epiverse-trace.github.io/epiparameter/reference/epiparameter.html" class="external-link">document
de référence de <code>epiparameter::epiparameter()</code></a> pour plus
de clarifications.</p></li>
<li><p>Liser la vignette de <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a> portant sur <a href="https://epiverse-trace.github.io/cfr/articles/delay_distributions.html" class="external-link">l’utilisation
des distributions des délais</a>.</p></li>
</ul></div>
</div>
</div>
<div id="challenge2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Défi</h3>
<div class="callout-content">
<p>Utilisez le même fichier (<a href="../data/sarscov2_cases_deaths.csv">sarscov2_cases_deaths.csv</a>) que
celui du défi précédent pour:</p>
<ul><li>Estimer le RL ajusté au délai en utilisant la distribution de délai
adéquate.</li>
<li>Comparer les résultats du RL naïf et du RL ajusté au délai.</li>
</ul></div>
</div>
</div>
<div id="accordionHint2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint2" aria-expanded="false" aria-controls="collapseHint2">
  <h4 class="accordion-header" id="headingHint2"> Donner un indice </h4>
</button>
<div id="collapseHint2" class="accordion-collapse collapse" aria-labelledby="headingHint2" data-bs-parent="#accordionHint2">
<div class="accordion-body">
<ul><li>Trouver l’objet de la classe <code>&lt;epiparameter&gt;</code>
approprié pour ces données.</li>
</ul></div>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Montrer la solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" aria-labelledby="headingSolution5" data-bs-parent="#accordionSolution5">
<div class="accordion-body">
<p>Nous utiliserons la librairie <a href="https://github.com/epiverse-trace/epiparameter/" class="external-link">epiparameter</a> pour
accéder à une distribution des délais pour les données d’incidence du
SARS-CoV-2.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">epiparameter</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sarscov2_delay</span> <span class="op">&lt;-</span> <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"covid"</span>,</span>
<span>  epi_name <span class="op">=</span> <span class="st">"onset to death"</span>,</span>
<span>  single_epiparameter <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<p>Les données seront importées dans R à l’aide de la fonction
<code>readr::read_csv()</code>. Cette fonction reconnaît que la colonne
<code>date</code> est de type <code>&lt;Date&gt;</code>.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># importer les donnees</span></span>
<span><span class="co"># supposons que le chemin d'accès au fichier est: data/raw-data/ebola_cases.csv</span></span>
<span><span class="va">sarscov2_input</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu">read_csv</span><span class="op">(</span></span>
<span>  file <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"raw-data"</span>, <span class="st">"sarscov2_cases_deaths.csv"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># voir un apperçu des donnees</span></span>
<span><span class="va">sarscov2_input</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 93 × 3
   date       cases_jpn deaths_jpn
   &lt;date&gt;         &lt;dbl&gt;      &lt;dbl&gt;
 1 2020-01-20         1          0
 2 2020-01-21         1          0
 3 2020-01-22         0          0
 4 2020-01-23         1          0
 5 2020-01-24         1          0
 6 2020-01-25         3          0
 7 2020-01-26         3          0
 8 2020-01-27         4          0
 9 2020-01-28         6          0
10 2020-01-29         7          0
# ℹ 83 more rows</code></pre>
</div>
<p>Nous pouvons utiliser la fonction
<code>cleanepi::standardize_column_names()</code> pour renommer les noms
des colonnes de sorte qu’elles soient conforment à la fonction
<code>cfr::cfr_static()</code>.</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># renommer les noms des colonnes avant d'estimer le RL ajusté au délai</span></span>
<span><span class="va">sarscov2_input</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_column_names</span><span class="op">(</span></span>
<span>    rename <span class="op">=</span> <span class="fu">c</span><span class="op">(</span>cases <span class="op">=</span> <span class="st">"cases_jpn"</span>, deaths <span class="op">=</span> <span class="st">"deaths_jpn"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cfr</span><span class="fu">::</span><span class="fu">cfr_static</span><span class="op">(</span></span>
<span>    delay_density <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">density</span><span class="op">(</span><span class="va">sarscov2_delay</span>, <span class="va">x</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  severity_estimate severity_low severity_high
1            0.0734        0.071        0.0759</code></pre>
</div>
<p>Comparer et interpréter les estimations du RL naïfs et ajusté au
délais.</p>
</div>
</div>
</div>
</div>
<div id="accordionSpoiler2" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler2" aria-expanded="false" aria-controls="collapseSpoiler2">
  <h3 class="accordion-header" id="headingSpoiler2">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> Quand doit-on utiliser les distributions discrètes ? </h3>
</button>
<div id="collapseSpoiler2" class="accordion-collapse collapse" aria-labelledby="headingSpoiler2" data-bs-parent="#accordionSpoiler2">
<div class="accordion-body">
<p>Pour la fonction <code>cfr_static()</code> et les autres de la
famille <code>cfr_*()</code>, les distributions les plus appropriées
sont les <strong>distributions discrets</strong>. Ceci en raison du fait
que nous travaillerons avec des données d’incidence quotidiennes sur le
nombre de cas et de décès.</p>
<p>Nous pouvons supposer que l’évaluation de la fonction de distribution
de probabilité (FDP) d’une distribution <em>continue</em> est
équivalente à la fonction de masse de probabilité (FMP) de la
distribution <em>discrète</em> correspondante.</p>
<p>Toutefois, cette hypothèse pourrait être inappropriée en présence de
distributions présentant des pics énormes. C’est le cas, par exemple,
des maladies dont la distribution du délai entre la date d’apparition
des symptômes et la date du décès présente un pic très élevé et une
faible variance. Dans ce cas, la disparité moyenne entre la FDP et la
FMP devrait être plus prononcée que pour les distributions avec de
larges variances. Une façon d’y remédier est de discrétiser la
distribution continue en appliquant la fonction
<code>epiparameter::discretise()</code> à un objet de la classe
<code>&lt;epiparameter&gt;</code>.</p>
</div>
</div>
</div>
</div>
<div id="accordionSpoiler3" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler3" aria-expanded="false" aria-controls="collapseSpoiler3">
  <h3 class="accordion-header" id="headingSpoiler3">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> Comment fonctionne la librairie {cfr} ? </h3>
</button>
<div id="collapseSpoiler3" class="accordion-collapse collapse" aria-labelledby="headingSpoiler3" data-bs-parent="#accordionSpoiler3">
<div class="accordion-body">
<p>Pour ajuster le RL, <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0006852" class="external-link">Nishiura
et al. 2009</a> ont utilisé les incidences des cas et des décès pour
estimer le nombre de cas dont les pronostiques vitaux sont connus :</p>
<p><span class="math display">\[
u_t = \dfrac{\sum_{i = 0}^t
\sum_{j = 0}^\infty c_{i - j} f_{j}}{\sum_{i = 0} c_i},
\]</span></p>
<p>où :</p>
<ul><li>
<span class="math inline">\(c_{t}\)</span> est l’incidence
quotidienne des cas à l’instant <span class="math inline">\(t\)</span>,</li>
<li>
<span class="math inline">\(f_{t}\)</span> est la valeur de la
fonction de masse de probabilité (FMP) de la <strong>distribution des
délais</strong> entre l’apparition des symptômes et le décès, et</li>
<li>
<span class="math inline">\(u_{t}\)</span> représente le facteur de
sous-estimation des statuts vitals connus.</li>
</ul><p><span class="math inline">\(u_{t}\)</span> est utilisé pour
<strong>ajuster l’échelle</strong> du nombre cumulé de cas au niveau du
dénominateur dans le calcul du RL. Ce calcul est effectué en interne à
l’aide de la fonction <a href="https://epiverse-trace.github.io/cfr/reference/estimate_outcomes.html" class="external-link"><code>estimate_outcomes()</code></a>.</p>
<p>L’estimateur du RL peut être écrit comme suit :</p>
<p><span class="math display">\[p_{t} = \frac{b_{t}}{u_{t}}\]</span></p>
<p>où <span class="math inline">\(p_{t}\)</span> est la proportion
réelle de cas confirmés qui meurent de l’infection (ou le RL non
biaisé), et <span class="math inline">\(b_{t}\)</span> est l’estimation
brute et biaisée du RL (ou RL naïf).</p>
<p>D’après cette dernière équation, nous observons que le RL non biaisé
<span class="math inline">\(p_{t}\)</span> est plus élevé que le RL
biaisé <span class="math inline">\(b_{t}\)</span>, car le numérateur
dans <span class="math inline">\(u_{t}\)</span> est plus petit que le
dénominateur (notez que <span class="math inline">\(f_{t}\)</span> est
la distribution de probabilité de la <em>distribution des délais</em>
entre l’apparition des symptômes et le décès). Par conséquent, <span class="math inline">\(b_{t}\)</span> est considérer comme l’estimateur
biaisé du RL.</p>
<p>Lorsque nous observons toute l’évolution d’une épidémie (de <span class="math inline">\(t \rightarrow \infty\)</span>), <span class="math inline">\(u_{t}\)</span> tend vers 1, ce qui fait que <span class="math inline">\(b_{t}\)</span> tend à <span class="math inline">\(p_{t}\)</span> et devient un estimateur sans biais
(<a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0006852" class="external-link">Nishiura
et al., 2009</a>).</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="estimation-du-rl-au-début-dune-épidémie">Estimation du RL au début d’une épidémie<a class="anchor" aria-label="anchor" href="#estimation-du-rl-au-d%C3%A9but-dune-%C3%A9pid%C3%A9mie"></a></h2>
<hr class="half-width"><p>L’estimation du RL <strong>naïf</strong> est utile pour obtenir une
estimation globale de la gravité d’une épidémie (jusqu’au moment <span class="math inline">\(t\)</span>). À la fin de l’épidémie ou lorsqu’on
atteint un niveau où on a de plus en plus de décès sont signalés, le RL
estimé sera alors plus proche du “véritable” RL non biaisé.</p>
<p>Par ailleurs, la valeur RL <strong>ajusté au délai</strong> estimée
au début d’une épidémie refléte mieux la gravité d’une maladie
infectieuse émergente que le RL biaisé ou naïf obtenu au cours de
l’épidémie.</p>
<p>Nous pouvons calculer le <em>RL ajusté au délai</em> au début d’une
épidémie à l’aide de la fonction <code>cfr::cfr_rolling()</code>.</p>
<div id="callout3" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">À noter</h3>
<div class="callout-content">
<p><code>cfr::cfr_rolling()</code> est une fonction utilitaire qui
calcule automatiquement le RL à chaque jour de l’épidémie à l’aide des
données disponibles au jour de l’estimation, permettant ainsi à
l’utilisateur de gagner du temps.</p>
</div>
</div>
</div>
<p><code>cfr::cfr_rolling()</code> montre le RL estimé à chaque jour de
l’épidémie, étant donné que les données futures sur les nombres de cas
et de décès ne sont pas disponibles à ce moment-là. Pour un même jeu de
données, la valeur finale de <code>cfr::cfr_rolling()</code> est
identique à celle de <code>cfr::cfr_static()</code>.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculer le RL naïf quotidien à chacun des 73 jours dans un jeu de donnees</span></span>
<span><span class="co"># d'Ebola</span></span>
<span><span class="va">rolling_cfr_naive</span> <span class="op">&lt;-</span> <span class="fu">cfr</span><span class="fu">::</span><span class="fu">cfr_rolling</span><span class="op">(</span>data <span class="op">=</span> <span class="va">ebola1976</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>`cfr_rolling()` is a convenience function to help understand how additional data influences the overall (static) severity. Use `cfr_time_varying()` instead to estimate severity changes over the course of the outbreak.</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculer le RL quotidien ajusté au délai à chacun des 73 jours dans un jeu de</span></span>
<span><span class="co"># donnees d'Ebola</span></span>
<span><span class="va">rolling_cfr_adjusted</span> <span class="op">&lt;-</span> <span class="fu">cfr</span><span class="fu">::</span><span class="fu">cfr_rolling</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">ebola1976</span>,</span>
<span>  delay_density <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">density</span><span class="op">(</span><span class="va">onset_to_death_ebola</span>, <span class="va">x</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>`cfr_rolling()` is a convenience function to help understand how additional data influences the overall (static) severity. Use `cfr_time_varying()` instead to estimate severity changes over the course of the outbreak.</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Some daily ratios of total deaths to total cases with known outcome are below 0.01%: some CFR estimates may be unreliable.FALSE</code></pre>
</div>
<p>Avec la fonction <code>utils::tail()</code> nous pouvons monter les
dernières estimations du RL. On voit que les intervalles de confiance à
95% des valeurs naïves et corrigées se chevauchent.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># voir un aperçu des dernieres valeurs du RL</span></span>
<span><span class="fu">utils</span><span class="fu">::</span><span class="fu">tail</span><span class="op">(</span><span class="va">rolling_cfr_naive</span><span class="op">)</span></span>
<span><span class="fu">utils</span><span class="fu">::</span><span class="fu">tail</span><span class="op">(</span><span class="va">rolling_cfr_adjusted</span><span class="op">)</span></span></code></pre>
</div>
<p>Visualisons maintenant les deux résultats dans une série
chronologique. Quelle serait la performance des estimations naïves et
ajustées au délai en temps réel ?</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># concatener les deux resultats</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu">bind_rows</span><span class="op">(</span></span>
<span>  <span class="fu">list</span><span class="op">(</span></span>
<span>    naive <span class="op">=</span> <span class="va">rolling_cfr_naive</span>,</span>
<span>    adjusted <span class="op">=</span> <span class="va">rolling_cfr_adjusted</span></span>
<span>  <span class="op">)</span>,</span>
<span>  .id <span class="op">=</span> <span class="st">"method"</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># visualiser les valeurs journalieres du RL naif et corrige</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_ribbon</span><span class="op">(</span></span>
<span>    <span class="fu">aes</span><span class="op">(</span></span>
<span>      <span class="va">date</span>,</span>
<span>      ymin <span class="op">=</span> <span class="va">severity_low</span>,</span>
<span>      ymax <span class="op">=</span> <span class="va">severity_high</span>,</span>
<span>      fill <span class="op">=</span> <span class="va">method</span></span>
<span>    <span class="op">)</span>,</span>
<span>    alpha <span class="op">=</span> <span class="fl">0.2</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span></span>
<span>    <span class="fu">aes</span><span class="op">(</span><span class="va">date</span>, <span class="va">severity_estimate</span>, colour <span class="op">=</span> <span class="va">method</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<figure><img src="../fig/severity-static-rendered-unnamed-chunk-22-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Les lignes rouges et bleues représentent respectivement le RL
journalier ajusté au délai et naïf tout au long de l’épidémie. Les
bandes autour d’elles représentent les intervalles de confiance à 95%
(IC 95%).</p>
<p><strong>Notez</strong> que le calcul du RL ajusté au délai est
particulièrement utile lorsqu’une <em>courbe épidémique de cas
confirmés</em> est la seule donnée disponible (c’est-à-dire lorsque les
données concernant le temps entre l’apparition des symptômes jusqu’au
décès ne sont pas disponibles, comme c’est le cas au début de
l’épidémie). Lorsqu’il y a peu ou pas de décès, une hypothèse sur la
<em>distribution des délais</em> entre l’apparition des symptômes et le
décès doit être formulée, par exemple à partir de la littérature basée
sur les épidémies précédentes. <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0006852" class="external-link">Nishiura
et al. 2009</a> illustrent ce phénomène dans les figures à l’aide de
données relatives à l’épidémie de SARS survenue à Hong Kong en 2003.</p>
<div id="accordionSpoiler4" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler4" aria-expanded="false" aria-controls="collapseSpoiler4">
  <h3 class="accordion-header" id="headingSpoiler4">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> Étude de cas : Épidémie de SARS, Hong Kong, 2003 </h3>
</button>
<div id="collapseSpoiler4" class="accordion-collapse collapse" aria-labelledby="headingSpoiler4" data-bs-parent="#accordionSpoiler4">
<div class="accordion-body">
<p>Les figures A et B montrent les nombres cumulés de cas et de décès
dus au SARS, et la figure C montre les estimations observées (biaisées)
du RL en fonction du temps, c’est-à-dire le nombre cumulé de décès par
rapport au nombre de cas à l’instant <span class="math inline">\(t\)</span>. En raison du délai entre l’apparition
des symptômes et le décès, l’estimation biaisée du RL au temps <span class="math inline">\(t\)</span> est inférieure au RL obtenu à la fin de
l’épidémie (302/1755 = 17,2 %).</p>
<figure><img src="../fig/cfr-pone.0006852.g003-fig_abc.png" alt="Risque observé (biaisé) de létalité des cas confirmés du syndrome respiratoire aigu sévère (SARS) à Hong Kong, 2003. (Nishiura et al, 2009)" class="figure mx-auto d-block"><div class="figcaption">Risque observé (biaisé) de létalité des cas
confirmés du syndrome respiratoire aigu sévère (SARS) à Hong Kong, 2003.
(<a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0006852" class="external-link">Nishiura
et al, 2009</a>)</div>
</figure><p>Néanmoins, même en n’utilisant que les données observées sur la
période du 19 mars au 2 avril, <code>cfr::cfr_static()</code> peut
produire une prédiction appropriée (figure D), par exemple le RL ajusté
au délai au 27 mars est de 18,1% (IC 95% : 10,5 - 28,1). Une
surestimation est notée au tout début de l’épidémie, mais les limites de
l’intervalle de confiance à 95% pour les phases ultérieures incluent le
RL réel (c’est-à-dire 17,2 %).</p>
<figure><img src="../fig/cfr-pone.0006852.g003-fig_d.png" alt="Détermination précoce du risque de létalité confirmé, ajusté au délai, du syndrome respiratoire aigu sévère (SARS) à Hong Kong, 2003. (Nishiura et al, 2009)" class="figure mx-auto d-block"><div class="figcaption">Détermination précoce du risque de létalité
confirmé, ajusté au délai, du syndrome respiratoire aigu sévère (SARS) à
Hong Kong, 2003. (<a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0006852" class="external-link">Nishiura
et al, 2009</a>)</div>
</figure></div>
</div>
</div>
</div>
<div id="interpréter-lestimation-du-rl-au-début-de-lépidémie" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="interpréter-lestimation-du-rl-au-début-de-lépidémie" class="callout-inner">
<h3 class="callout-title">Interpréter l’estimation du RL au début de l’épidémie</h3>
<div class="callout-content">
<p>Sur la base de la figure ci-dessus :</p>
<ul><li>Quelle est la différence, en jours, entre la date à laquelle l’IC à
95% du <em>RL ajusté aux délais</em> et du <em>RL naïf</em> se croisent
avec le RL estimé à la fin de l’épidémie ?</li>
</ul><p>Discutez-en :</p>
<ul><li>En quoi le fait de disposer d’un RL <em>ajusté aux délai</em>
peut-il influer sur les stratégies de santé publique ?</li>
</ul></div>
</div>
</div>
<div id="accordionHint3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint3" aria-expanded="false" aria-controls="collapseHint3">
  <h4 class="accordion-header" id="headingHint3"> Donner un indice </h4>
</button>
<div id="collapseHint3" class="accordion-collapse collapse" aria-labelledby="headingHint3" data-bs-parent="#accordionHint3">
<div class="accordion-body">
<p>Nous pouvons soit inspecter visuellement ou analyser les tableaux des
données de sortie.</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Montrer la solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" aria-labelledby="headingSolution6" data-bs-parent="#accordionSolution6">
<div class="accordion-body">
<p>Il y a presque un mois de différence.</p>
<p>Notez que l’estimation présente une incertitude considérable au début
de la série chronologique. Après deux semaines, le RL corrigé au délai
se rapproche de l’estimation globale du RL à la fin de l’épidémie.</p>
<p>Ce schéma est-il similaire à celui d’autres épidémies ? Nous vous
invitons à utiliser les ensembles de données dans les défis de cet
épisode pour le découvrir.</p>
</div>
</div>
</div>
</div>
<div id="checklist" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="checklist" class="callout-inner">
<h3 class="callout-title">Liste de vérification</h3>
<div class="callout-content">
<p>Avec <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a> nous estimons le RL comme la proportion de
décès parmi les cas <strong>confirmés</strong>.</p>
<p>En n’utilisant que les cas <strong>confirmés</strong> il est clair
que tous les cas qui ne cherchent pas de traitement médical ou qui ne
sont pas notifiés ne sont pas pris en compte, de même que tous les cas
asymptomatiques. Cela signifie que le RL estimé est plus élevé que la
proportion de décès parmi l’ensemble des personnes infectées.</p>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Pourquoi les estimations naïves et ajustées aux délais diffèrent-elles ? </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" aria-labelledby="headingSolution7" data-bs-parent="#accordionSolution7">
<div class="accordion-body">
<p>La méthode de la librairie <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a> vise à obtenir un
estimateur non biaisé “bien avant” d’observer toute l’évolution de
l’épidémie. Pour ce faire, <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a> utilise le facteur de
sous-estimation <span class="math inline">\(u_{t}\)</span> pour estimer
le RL non biaisé <span class="math inline">\(p_{t}\)</span> à l’aide de
la méthode du maximum de vraisemblance, étant donné le <em>processus
d’échantillonnage</em> défini par <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0006852" class="external-link">Nishiura
et al, 2009</a>.</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8"> Quel est le processus d’échantillonnage ? </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" aria-labelledby="headingSolution8" data-bs-parent="#accordionSolution8">
<div class="accordion-body">
<figure><img src="../fig/cfr-pone.0006852.g001.png" alt="La population des cas confirmés et le processus d’échantillonnage pour l’estimation du RL non biaisé au cours d’une épidémie selon Nishiura et al. 2009" class="figure mx-auto d-block"><div class="figcaption">La population des cas confirmés et le processus
d’échantillonnage pour l’estimation du RL non biaisé au cours d’une
épidémie selon <a href="https://doi.org/10.1371/journal.pone.0006852.g001" class="external-link">Nishiura et
al. 2009</a>
</div>
</figure><p>Nous connaissons le nombre cumulé de cas confirmés et de décès <span class="math inline">\(C_{t}\)</span> et <span class="math inline">\(D_{t}\)</span> à l’instant <span class="math inline">\(t\)</span> à partir des <em>données d’incidence
agrégées</em> et souhaitons estimer le RL non biaisé <span class="math inline">\(\pi\)</span> au moyen du facteur de
sous-estimation <span class="math inline">\(u_{t}\)</span>.</p>
<p>Si nous connaissions le facteur de sous-estimation <span class="math inline">\(u_{t}\)</span> nous pourrions préciser la taille
de la population des cas confirmés qui ne sont plus à risque (<span class="math inline">\(u_{t}C_{t}\)</span>, <strong>ombré</strong>), bien
que nous ne sachions pas quels individus survivants appartiennent à ce
groupe. Une proportion <span class="math inline">\(\pi\)</span> de ceux
qui font partie du groupe de cas encore à risque (taille <span class="math inline">\((1- u_{t})C_{t}\)</span>, <strong>non
ombré</strong>) devrait mourir.</p>
<p>Parce que chaque cas qui n’est plus à risque avait une probabilité
indépendante de mourir, <span class="math inline">\(\pi\)</span> le
nombre de décès, <span class="math inline">\(D_{t}\)</span> est un
échantillon d’une distribution binomiale avec une taille d’échantillon
de <span class="math inline">\(u_{t}C_{t}\)</span> et la probabilité de
décès <span class="math inline">\(p_{t}\)</span> = <span class="math inline">\(\pi\)</span>.</p>
<p>Ceci est représenté par la fonction de vraisemblance suivante
permettant d’obtenir l’estimation du maximum de vraisemblance du RL non
biaisé <span class="math inline">\(p_{t}\)</span> = <span class="math inline">\(\pi\)</span>:</p>
<p><span class="math display">\[
{\sf L}(\pi | C_{t},D_{t},u_{t}) = \log{\dbinom{u_{t}C_{t}}{D_{t}}} +
D_{t} \log{\pi} +
(u_{t}C_{t} - D_{t})\log{(1 - \pi)},
\]</span></p>
<p>Ce calcule est réalisé par la fonction interne
<code>?cfr:::estimate_severity()</code>.</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution9" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution9" aria-expanded="false" aria-controls="collapseSolution9">
  <h4 class="accordion-header" id="headingSolution9"> Limitations </h4>
</button>
<div id="collapseSolution9" class="accordion-collapse collapse" aria-labelledby="headingSolution9" data-bs-parent="#accordionSolution9">
<div class="accordion-body">
<ul><li>Le RL ajusté aux délais ne prend pas en charge toutes les sources
d’erreur dans les données, telle que la non-détection de toutes les
personnes infectées.</li>
</ul></div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="challenges">Challenges<a class="anchor" aria-label="anchor" href="#challenges"></a></h2>
<hr class="half-width"><div id="autres-mesures-de-sévérité" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="autres-mesures-de-sévérité" class="callout-inner">
<h3 class="callout-title">Autres mesures de sévérité</h3>
<div class="callout-content">
<p>Supposons que nous ayons besoin d’évaluer la gravité clinique de
l’épidémie dans un contexte autre aue la surveillance épidémiologique,
comme la gravité parmi les cas qui arrivent à l’hôpital ou les cas que
vous avez recueillis lors d’une enquête sérologique représentative.</p>
<p>En utilisant <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a> nous pouvons modifier les valeurs du
numérateur (<code>cases</code>) et du dénominateur (<code>deaths</code>)
pour estimer des mesures plus sévères comme le risque d’infection
mortelle (RIM) ou le risque d’hospitalisation mortelle (RHM). Nous
pouvons suivre analogie ci-après :</p>
</div>
</div>
</div>
<div id="accordionSolution10" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution10" aria-expanded="false" aria-controls="collapseSolution10">
  <h4 class="accordion-header" id="headingSolution10"> Risque de létalité lié à l’infection et à l’hospitalisation </h4>
</button>
<div id="collapseSolution10" class="accordion-collapse collapse" aria-labelledby="headingSolution10" data-bs-parent="#accordionSolution10">
<div class="accordion-body">
<p>Si pour le risque de décès (RL) d’un <em>cas</em>, nous exigeons
:</p>
<ul><li>les données sur l’incidence des cas et des décès, avec une</li>
<li>distribution des délais entre les cas et les décès (ou une
approximation proche, comme le délai entre l’apparition des symptômes et
le décès).</li>
</ul><p>Dans ce cas, le <em>risque d’infection mortelle (RIM)</em> nécessite
:</p>
<ul><li>les données sur l’incidence des infections et des décès, avec
une</li>
<li>distribution des délais entre l’exposition et le décès (ou une
approximation proche).</li>
</ul><p>De la même manière, le <em>risque d’hospitalisation mortelle</em>
requière :</p>
<ul><li>les données d’incidence des cas d’hospitalisation et de décès, ainsi
qu’une</li>
<li>distribution des délais entre l’hospitalisation et le décès.</li>
</ul></div>
</div>
</div>
</div>
<div id="accordionSolution11" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution11" aria-expanded="false" aria-controls="collapseSolution11">
  <h4 class="accordion-header" id="headingSolution11"> Sources de données pour d’autres mesures de la gravité </h4>
</button>
<div id="collapseSolution11" class="accordion-collapse collapse" aria-labelledby="headingSolution11" data-bs-parent="#accordionSolution11">
<div class="accordion-body">
<p><a href="https://www.nature.com/articles/s41467-020-19238-2/figures/1" class="external-link">Yang
et al, 2020</a> résume les différentes définitions et sources de données
:</p>
<figure><img src="../fig/cfr-s41467-020-19238-2-fig_a.png" alt="Niveaux de gravité des infections par le SARS-CoV-2 et les paramètres d’intérêt. Chaque niveau est supposé être un sous-ensemble du niveau inférieur." class="figure mx-auto d-block"><div class="figcaption">Niveaux de gravité des infections par le
SARS-CoV-2 et les paramètres d’intérêt. Chaque niveau est supposé être
un sous-ensemble du niveau inférieur.</div>
</figure><ul><li>sCFR risque de létalité des cas symptomatiques (sRL),</li>
<li>sCHR risque d’hospitalisation des cas symptomatiques (sRH),</li>
<li>mCFR risque de létalité des cas médicalement pris en charge
(mRL),</li>
<li>mCHR risque d’hospitalisation d’un cas médicalement pris en charge
(mRH),</li>
<li>HFR risque d’hospitalisation mortelle (RHM).</li>
</ul><figure><img src="../fig/cfr-s41467-020-19238-2-fig_b.png" fig-alt="Source des données sur les cas de COVID-19 à Wuhan : D1) 32 583 cas de COVID-19 confirmés en laboratoire en mars 84, D2) 17 365 cas de COVID-19 diagnostiqués cliniquement entre le 9 février et le 24 avril, D3) nombre quotidien de cas confirmés en laboratoire entre le 9 mars et le 24 avril, D4) nombre total de décès dus au COVID-19 en date du 24 avril, obtenus auprès de la Commission de la santé du Hubei3, D5) 325 cas confirmés en laboratoire et D6) 1 290 décès ont été ajoutés au 16 avril grâce à une vérification complète et systématique effectuée par les autorités de Wuhan3, et D7) 16 781 cas confirmés en laboratoire identifiés par le biais d'un dépistage universel10,11. Pse : sensibilité de la RT-PCR12. Pmed.care : proportion de patients souffrant d'infections respiratoires aiguës qui demandent une assistance médicale13." alt="Schéma des analyses de base. Les flèches rouges, bleues et vertes indiquent le flux de données provenant des cas confirmés en laboratoire dans le cadre de la surveillance passive, des cas diagnostiqués cliniquement et des cas confirmés en laboratoire dans le cadre des dépistages actifs." class="figure mx-auto d-block"><div class="figcaption">Schéma des analyses de base. Les flèches rouges,
bleues et vertes indiquent le flux de données provenant des cas
confirmés en laboratoire dans le cadre de la surveillance passive, des
cas diagnostiqués cliniquement et des cas confirmés en laboratoire dans
le cadre des dépistages actifs.</div>
</figure></div>
</div>
</div>
</div>
<div id="les-données-agrégées-diffèrent-des-données-de-cas-individuels-linelist" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="les-données-agrégées-diffèrent-des-données-de-cas-individuels-linelist" class="callout-inner">
<h3 class="callout-title">Les données agrégées diffèrent des données de cas individuels (linelist)</h3>
<div class="callout-content">
<p>Les données d’incidence <strong>agrégées</strong> diffèrent des
<strong>linelist</strong> où chaque observation contient des données
concernant un cas individuel.</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">outbreaks</span><span class="fu">::</span><span class="va">ebola_sierraleone_2014</span> <span class="op">%&gt;%</span> <span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 11,903 × 8
      id   age sex   status    date_of_onset date_of_sample district chiefdom
   &lt;int&gt; &lt;dbl&gt; &lt;fct&gt; &lt;fct&gt;     &lt;date&gt;        &lt;date&gt;         &lt;fct&gt;    &lt;fct&gt;
 1     1    20 F     confirmed 2014-05-18    2014-05-23     Kailahun Kissi Teng
 2     2    42 F     confirmed 2014-05-20    2014-05-25     Kailahun Kissi Teng
 3     3    45 F     confirmed 2014-05-20    2014-05-25     Kailahun Kissi Tonge
 4     4    15 F     confirmed 2014-05-21    2014-05-26     Kailahun Kissi Teng
 5     5    19 F     confirmed 2014-05-21    2014-05-26     Kailahun Kissi Teng
 6     6    55 F     confirmed 2014-05-21    2014-05-26     Kailahun Kissi Teng
 7     7    50 F     confirmed 2014-05-21    2014-05-26     Kailahun Kissi Teng
 8     8     8 F     confirmed 2014-05-22    2014-05-27     Kailahun Kissi Teng
 9     9    54 F     confirmed 2014-05-22    2014-05-27     Kailahun Kissi Teng
10    10    57 F     confirmed 2014-05-22    2014-05-27     Kailahun Kissi Teng
# ℹ 11,893 more rows</code></pre>
</div>
</div>
</div>
</div>
<div id="utilisez-incidence2-pour-réorganiser-vos-données" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="utilisez-incidence2-pour-réorganiser-vos-données" class="callout-inner">
<h3 class="callout-title">Utilisez {incidence2} pour réorganiser vos données</h3>
<div class="callout-content">
<p>Utilisez la librairie <a href="https://github.com/reconhub/outbreaks" class="external-link">outbreaks</a> pour chargez le
linelist des cas de MERS issues de l’objet <code>mers_korea_2015</code>
.</p>
<p>Réorganisez cet objet linelist de sorte qu’il soit utilisable par les
fonctions de la librairie <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a>.</p>
<p>Estimez le RL ajusté au délai en utilisant la distribution de délai
correspondante.</p>
</div>
</div>
</div>
<div id="accordionHint4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint4" aria-expanded="false" aria-controls="collapseHint4">
  <h4 class="accordion-header" id="headingHint4"> Donner un indice </h4>
</button>
<div id="collapseHint4" class="accordion-collapse collapse" aria-labelledby="headingHint4" data-bs-parent="#accordionHint4">
<div class="accordion-body">
<p><strong>Comment réorganiser les données d’entrée ?</strong></p>
<p>Le réorganisation des données d’entrée durant le processus d’analyse
des données peut prendre beaucoup de temps. Pour obtenir des <em>données
d’incidence agrégées</em> prêtes à être analysées nous vous encourageons
à utiliser le package <a href="https://www.reconverse.org/incidence2/" class="external-link">incidence2</a>.</p>
<p>Tout d’abord, consultez la vignette <a href="https://www.reconverse.org/incidence2/articles/incidence2.html" class="external-link">Get
started</a> de la librairie <a href="https://www.reconverse.org/incidence2/" class="external-link">incidence2</a> pour savoir
comment utiliser l’argument <code>date_index</code> lors de la lecture
d’un linelist contenant plusieurs colonnes de type <date>.</date></p>
<p>Ensuite, référez-vous <a href="https://epiverse-trace.github.io/cfr/reference/prepare_data.html" class="external-link">au
manuel de référence</a> sur la façon d’utiliser la fonction
<code>cfr::prepare_data()</code> sur les objets de classe
<incidence2>.</incidence2></p>
<!-- cite howto entry one lineslist + incidence2 + cfr connection -->
</div>
</div>
</div>
</div>
<div id="accordionSolution12" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution12" aria-expanded="false" aria-controls="collapseSolution12">
  <h4 class="accordion-header" id="headingSolution12"> Montrer la solution </h4>
</button>
<div id="collapseSolution12" class="accordion-collapse collapse" aria-labelledby="headingSolution12" data-bs-parent="#accordionSolution12">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># charger les packages</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">cfr</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">epiparameter</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">incidence2</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">outbreaks</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Acceder a la distribution des delais</span></span>
<span><span class="va">mers_delay</span> <span class="op">&lt;-</span> <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"mers"</span>,</span>
<span>  epi_name <span class="op">=</span> <span class="st">"onset to death"</span>,</span>
<span>  single_epiparameter <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># lire le linelist</span></span>
<span><span class="va">mers_korea_2015</span><span class="op">$</span><span class="va">linelist</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fu">starts_with</span><span class="op">(</span><span class="st">"dt_"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 162 × 6
   dt_onset   dt_report  dt_start_exp dt_end_exp dt_diag    dt_death
   &lt;date&gt;     &lt;date&gt;     &lt;date&gt;       &lt;date&gt;     &lt;date&gt;     &lt;date&gt;
 1 2015-05-11 2015-05-19 2015-04-18   2015-05-04 2015-05-20 NA
 2 2015-05-18 2015-05-20 2015-05-15   2015-05-20 2015-05-20 NA
 3 2015-05-20 2015-05-20 2015-05-16   2015-05-16 2015-05-21 2015-06-04
 4 2015-05-25 2015-05-26 2015-05-16   2015-05-20 2015-05-26 NA
 5 2015-05-25 2015-05-27 2015-05-17   2015-05-17 2015-05-26 NA
 6 2015-05-24 2015-05-28 2015-05-15   2015-05-17 2015-05-28 2015-06-01
 7 2015-05-21 2015-05-28 2015-05-16   2015-05-17 2015-05-28 NA
 8 2015-05-26 2015-05-29 2015-05-15   2015-05-15 2015-05-29 NA
 9 NA         2015-05-29 2015-05-15   2015-05-17 2015-05-29 NA
10 2015-05-21 2015-05-29 2015-05-16   2015-05-16 2015-05-29 NA
# ℹ 152 more rows</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># utiliser {incidence2} pour determiner les incidences journalieres</span></span>
<span><span class="va">mers_incidence</span> <span class="op">&lt;-</span> <span class="va">mers_korea_2015</span><span class="op">$</span><span class="va">linelist</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># convertir en objet incidence2</span></span>
<span>  <span class="fu">incidence2</span><span class="fu">::</span><span class="fu">incidence</span><span class="op">(</span>date_index <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"dt_onset"</span>, <span class="st">"dt_death"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="co"># completer les dates du début a la fin</span></span>
<span>  <span class="fu">incidence2</span><span class="fu">::</span><span class="fu">complete_dates</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># voir un aperçu des donnees d'incidence</span></span>
<span><span class="va">mers_incidence</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># incidence:  72 x 3
# count vars: dt_death, dt_onset
   date_index count_variable count
   &lt;date&gt;     &lt;chr&gt;          &lt;int&gt;
 1 2015-05-11 dt_death           0
 2 2015-05-11 dt_onset           1
 3 2015-05-12 dt_death           0
 4 2015-05-12 dt_onset           0
 5 2015-05-13 dt_death           0
 6 2015-05-13 dt_onset           0
 7 2015-05-14 dt_death           0
 8 2015-05-14 dt_onset           0
 9 2015-05-15 dt_death           0
10 2015-05-15 dt_onset           0
# ℹ 62 more rows</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Preparer les donnees d'incidence pour utilisation dans {cfr}</span></span>
<span><span class="va">mers_incidence</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cfr</span><span class="fu">::</span><span class="fu">prepare_data</span><span class="op">(</span></span>
<span>    cases_variable <span class="op">=</span> <span class="st">"dt_onset"</span>,</span>
<span>    deaths_variable <span class="op">=</span> <span class="st">"dt_death"</span></span>
<span>  <span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>         date deaths cases
1  2015-05-11      0     1
2  2015-05-12      0     0
3  2015-05-13      0     0
4  2015-05-14      0     0
5  2015-05-15      0     0
6  2015-05-16      0     0
7  2015-05-17      0     1
8  2015-05-18      0     1
9  2015-05-19      0     0
10 2015-05-20      0     5
11 2015-05-21      0     6
12 2015-05-22      0     2
13 2015-05-23      0     4
14 2015-05-24      0     2
15 2015-05-25      0     3
16 2015-05-26      0     1
17 2015-05-27      0     2
18 2015-05-28      0     1
19 2015-05-29      0     3
20 2015-05-30      0     5
21 2015-05-31      0    10
22 2015-06-01      2    16
23 2015-06-02      0    11
24 2015-06-03      1     7
25 2015-06-04      1    12
26 2015-06-05      1     9
27 2015-06-06      0     7
28 2015-06-07      0     7
29 2015-06-08      2     6
30 2015-06-09      0     1
31 2015-06-10      2     6
32 2015-06-11      1     3
33 2015-06-12      0     0
34 2015-06-13      0     2
35 2015-06-14      0     0
36 2015-06-15      0     1</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Estimer le RL ajuste au delai</span></span>
<span><span class="va">mers_incidence</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cfr</span><span class="fu">::</span><span class="fu">prepare_data</span><span class="op">(</span></span>
<span>    cases_variable <span class="op">=</span> <span class="st">"dt_onset"</span>,</span>
<span>    deaths_variable <span class="op">=</span> <span class="st">"dt_death"</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cfr</span><span class="fu">::</span><span class="fu">cfr_static</span><span class="op">(</span>delay_density <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">density</span><span class="op">(</span><span class="va">mers_delay</span>, <span class="va">x</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  severity_estimate severity_low severity_high
1            0.1377       0.0716        0.2288</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="hétérogénéité-de-la-gravité" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="hétérogénéité-de-la-gravité" class="callout-inner">
<h3 class="callout-title">Hétérogénéité de la gravité</h3>
<div class="callout-content">
<p>Le RL peut varier d’une population à l’autre (par exemple en fonction
de l’âge, l’espace géographique, du traitement, etc) ; la quantification
de ces hétérogénéités peut aider à mobiliser les ressources de manière
appropriée et à comparer différents régimes de soins (<a href="https://royalsocietypublishing.org/doi/10.1098/rstb.2016.0371" class="external-link">Cori
et al., 2017</a>).</p>
<p>Utilisez le tableau de données <code>cfr::covid_data</code> pour
estimer un RL ajusté aux délais, stratifié par pays.</p>
</div>
</div>
</div>
<div id="accordionHint5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button hint-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHint5" aria-expanded="false" aria-controls="collapseHint5">
  <h4 class="accordion-header" id="headingHint5"> Donner un indice </h4>
</button>
<div id="collapseHint5" class="accordion-collapse collapse" aria-labelledby="headingHint5" data-bs-parent="#accordionHint5">
<div class="accordion-body">
<p>Une façon d’effectuer une <em>analyse stratifiée</em> consiste à
appliquer un modèle à des données imbriquées. Cette <a href="https://tidyr.tidyverse.org/articles/nest.html#nested-data-and-models" class="external-link">vignette
de la librairie <code>{tidyr}</code> vignette</a> vous montre comment
appliquer la méthode <code>dplyr::group_by()</code> +
<code>tidyr::nest()</code> aux données de imbriquées, puis
<code>dplyr::mutate()</code> + <code>purrr::map()</code> pour appliquer
le modèle.</p>
</div>
</div>
</div>
</div>
<div id="accordionSolution13" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution13" aria-expanded="false" aria-controls="collapseSolution13">
  <h4 class="accordion-header" id="headingSolution13"> Montrer la solution </h4>
</button>
<div id="collapseSolution13" class="accordion-collapse collapse" aria-labelledby="headingSolution13" data-bs-parent="#accordionSolution13">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">cfr</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">epiparameter</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span>
<span></span>
<span><span class="va">covid_data</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">glimpse</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Rows: 20,786
Columns: 4
$ date    &lt;date&gt; 2020-01-03, 2020-01-03, 2020-01-03, 2020-01-03, 2020-01-03, 2…
$ country &lt;chr&gt; "Argentina", "Brazil", "Colombia", "France", "Germany", "India…
$ cases   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ deaths  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">delay_onset_death</span> <span class="op">&lt;-</span> <span class="fu">epiparameter</span><span class="fu">::</span><span class="fu">epiparameter_db</span><span class="op">(</span></span>
<span>  disease <span class="op">=</span> <span class="st">"covid"</span>,</span>
<span>  epi_name <span class="op">=</span> <span class="st">"onset to death"</span>,</span>
<span>  single_epiparameter <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">covid_data</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">group_by</span><span class="op">(</span><span class="va">country</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu">nest</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span></span>
<span>    temp <span class="op">=</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu">map</span><span class="op">(</span></span>
<span>      .x <span class="op">=</span> <span class="va">data</span>,</span>
<span>      .f <span class="op">=</span> <span class="fu">cfr</span><span class="fu">::</span><span class="va">cfr_static</span>,</span>
<span>      delay_density <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">density</span><span class="op">(</span><span class="va">delay_onset_death</span>, <span class="va">x</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu">unnest</span><span class="op">(</span>cols <span class="op">=</span> <span class="va">temp</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SORTIE<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 19 × 5
# Groups:   country [19]
   country        data     severity_estimate severity_low severity_high
   &lt;chr&gt;          &lt;list&gt;               &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;
 1 Argentina      &lt;tibble&gt;            0.0133       0.0133        0.0133
 2 Brazil         &lt;tibble&gt;            0.0195       0.0195        0.0195
 3 Colombia       &lt;tibble&gt;            0.0225       0.0224        0.0226
 4 France         &lt;tibble&gt;            0.0044       0.0044        0.0044
 5 Germany        &lt;tibble&gt;            0.0045       0.0045        0.0045
 6 India          &lt;tibble&gt;            0.0119       0.0119        0.0119
 7 Indonesia      &lt;tibble&gt;            0.024        0.0239        0.0241
 8 Iran           &lt;tibble&gt;            0.0191       0.0191        0.0192
 9 Italy          &lt;tibble&gt;            0.0075       0.0075        0.0075
10 Mexico         &lt;tibble&gt;            0.0461       0.046         0.0462
11 Peru           &lt;tibble&gt;            0.0502       0.0501        0.0504
12 Poland         &lt;tibble&gt;            0.0186       0.0186        0.0187
13 Russia         &lt;tibble&gt;            0.0182       0.0182        0.0182
14 South Africa   &lt;tibble&gt;            0.0254       0.0253        0.0255
15 Spain          &lt;tibble&gt;            0.0087       0.0087        0.0087
16 Turkey         &lt;tibble&gt;            0.006        0.006         0.006
17 Ukraine        &lt;tibble&gt;            0.0204       0.0203        0.0205
18 United Kingdom &lt;tibble&gt;            0.009        0.009         0.009
19 United States  &lt;tibble&gt;            0.0111       0.0111        0.0111</code></pre>
</div>
<p>C’est génial ! Vous pouvez maintenant utiliser un code similaire pour
stratifier vos analyses en fonction de l’âge, des régions ou autres
facteurs utiles.</p>
<p>Mais comment interpréter le fait qu’on ait une variabilité nationale
de la gravité clinique pour un même agent pathogène diagnostiqué ?</p>
<p>Des facteurs locaux tels que la capacité de test, la définition de
cas et le régime d’échantillonnage peuvent influer sur la déclaration
des cas et des décès, et donc sur la détermination de la grvité
clinique. Jetez un coup d’œil à la vignette de <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a> sur <a href="https://epiverse-trace.github.io/cfr/articles/estimate_ascertainment.html" class="external-link">Estimation
de la proportion de cas confirmés au cours d’une épidémie</a>.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="annexe">Annexe<a class="anchor" aria-label="anchor" href="#annexe"></a></h2>
<hr class="half-width"><p>La librairie <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a> possède une fonction appelée
<code>cfr_time_varying()</code> dont la fonctionnalité diffère de celle
de <code>cfr_rolling()</code>.</p>
<div id="quand-doit-on-utiliser-cfr_rolling" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="quand-doit-on-utiliser-cfr_rolling" class="callout-inner">
<h3 class="callout-title">Quand doit-on utiliser cfr_rolling() ?</h3>
<div class="callout-content">
<p><code>cfr::cfr_rolling()</code> calcule le RL estimé à chaque jour de
l’épidémie, vue que les données futures sur les cas et les décès ne sont
pas disponibles à ce moment-là. La valeur finale de
<code>cfr_rolling()</code> est identique à celle de
<code>cfr_static()</code> pour les mêmes données.</p>
<p>Rappelez-vous, comme indiqué ci-dessus, <code>cfr_rolling()</code>
est utile pour obtenir des estimations du RL à un stade précoce de
l’épidémie et vérifier si l’estimation du RL d’une épidémie s’est
stabilisée. C’est pourquoi, <code>cfr_rolling()</code> n’est pas
sensible à la durée ou à la taille de l’épidémie.</p>
</div>
</div>
</div>
<div id="quand-doit-on-utiliser-cfr_time_varying" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="quand-doit-on-utiliser-cfr_time_varying" class="callout-inner">
<h3 class="callout-title">Quand doit-on utiliser
<code>cfr_time_varying()</code> ?</h3>
<div class="callout-content">
<p>D’autre part, <code>cfr::cfr_time_varying()</code>, utilisée pour
calculer le RL mobile (RL par intervalle de temps régulier), aide à
comprendre les variations du RL dues à des changements durant
l’épidémie, comme par exemple en raison d’un nouveau variant du
pathogène ou d’une immunité accrue due à la vaccination.</p>
<p>Cependant, <code>cfr_time_varying()</code> est sensible à
l’incertitude de l’échantillonnage. Son résultat est donc sensible à la
taille de l’épidémie. Plus le nombre de cas dont on connaitra le
pronostique au moment de l’estimation est élevé, plus nous obtiendrons
des estimations raisonnables du RL variable par intervalle de temps
consécutif.</p>
<p>Par exemple, avec 100 cas, le taux de létalité estimé aura, grosso
modo, un intervalle de confiance de 95% ± 10% de la valeur moyenne (IC
binomial). Donc, si le nombre de cas dont on connaitra le pronostique à
<em>un jour donné</em> est supérieur 100, nous pouvons obtenir des
estimations raisonnables du RL mobile. Mais si nous disposons que de
&gt;100 cas <em>sur toute la durée de l’épidémie</em> nous devrons
probablement nous appuyer sur la fonction <code>cfr_rolling()</code> qui
utilise les données cumulées.</p>
<p>Nous vous invitons à lire la <a href="https://epiverse-trace.github.io/cfr/articles/estimate_time_varying_severity.html" class="external-link">vignette
sur la fonction <code>cfr_time_varying()</code></a>.</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Points clés</h3>
<div class="callout-content">
<ul><li><p>Utilisez la librairie <a href="https://github.com/epiverse-trace/cfr" class="external-link">cfr</a> pour estimer la gravité
clinique</p></li>
<li><p>Utilisez la fonction <code>cfr::cfr_static()</code> pour estimer
le RL global à l’aide des plus récentes données disponibles.</p></li>
<li><p>Utilisez la fonction <code>cfr::cfr_rolling()</code> pour obtenir
les estimations du RL durant chaque jour de l’épidémie.</p></li>
<li><p>Utiliser l’argument <code>delay_density</code> pour ajuster les
valeurs du RL au délai épidémiologique en fonction de la distribution
des délais correspondants.</p></li>
</ul></div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Chapitre Précédent et Suivant"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/create-forecast.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Précédent</a>
        <a class="chapter-link float-end" href="../instructor/index.html">Suivant<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/create-forecast.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Précédent: Établir des
        </a>
        <a class="chapter-link float-end" href="../instructor/index.html" rel="next">
          Accueil
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>Cette leçon est soumise au <a href="CODE_OF_CONDUCT.html">Code de Conduite</a></p>
        <p>

        <a href="https://github.com/epiverse-trace/tutorials-middle-fr/edit/main/episodes/severity-static.Rmd" class="external-link">Modifier sur GitHub</a>

	
        | <a href="https://github.com/epiverse-trace/tutorials-middle-fr/blob/main/CONTRIBUTING.md" class="external-link">Contribuer</a>
        | <a href="https://github.com/epiverse-trace/tutorials-middle-fr/" class="external-link">Code Source</a></p>
				<p><a href="https://github.com/epiverse-trace/tutorials-middle-fr/blob/main/CITATION.cff" class="external-link">Citer</a> | <a href="mailto:andree.valle-campos@lshtm.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">À propos</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Modèle publié sous licence <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> par <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Construit avec <a href="https://github.com/epiverse-trace/sandpaper/tree/patch-renv-github-bug" class="external-link">sandpaper (0.16.13.9000)</a>, <a href="https://github.com/carpentries/pegboard/tree/7dc6acfdd6233c0d124a0ecf288325edc40dd96d" class="external-link">pegboard (0.7.9)</a>, et <a href="https://github.com/epiverse-trace/varnish/tree/epiversetheme" class="external-link">varnish (1.0.7.9000)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Retour En Haut"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Retour</span> En Haut
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://epiverse-trace.github.io/tutorials-middle-fr/instructor/severity-static.html",
  "inLanguage": "fr",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "forecasts, epidemic models, interventions",
  "name": "Estimation de la gravité d'une épidémie",
  "creativeWorkStatus": "active",
  "url": "https://epiverse-trace.github.io/tutorials-middle-fr/instructor/severity-static.html",
  "identifier": "https://epiverse-trace.github.io/tutorials-middle-fr/instructor/severity-static.html",
  "dateCreated": "2025-10-20",
  "dateModified": "2025-10-13",
  "datePublished": "2025-10-20"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

